<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ADNIMERGE2-Derived-Data • ADNIMERGE2</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ADNIMERGE2-Derived-Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ADNIMERGE2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/ADNIMERGE2.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>R Package Build</h6></li>
    <li><a class="dropdown-item" href="../articles/ADNIMERGE2-Package-Building.html">Building an R Package from Raw Dataset</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Derived Data</h6></li>
    <li><a class="dropdown-item" href="../articles/ADNIMERGE2-PACC.html">PACC Score - Modified Version</a></li>
    <li><a class="dropdown-item" href="../articles/ADNIMERGE2-Derived-Data.html">ADNIMERGE2 Derived Data</a></li>
    <li><a class="dropdown-item" href="../articles/ADNIMERGE2-Analysis-Meta-Specs.html">ADNIMERGE2 Analysis Metadata Specs</a></li>
    <li><a class="dropdown-item" href="../articles/ADNIMERGE2-Analysis-Data.html">ADNIMERGE2 Analysis Data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>ADNI Summaries</h6></li>
    <li><a class="dropdown-item" href="../articles/ADNI-Enrollment.html">ADNI Enrollment</a></li>
    <li><a class="dropdown-item" href="../articles/ADNI-Longitudinal.html">ADNI Longitudinal Summaries</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Versions</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/atri-biostats/ADNIMERGE2/" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="ADNIMERGE2-Derived-Data_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="ADNIMERGE2-Derived-Data_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="ADNIMERGE2-Derived-Data_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="ADNIMERGE2-Derived-Data_files/datatables-binding-0.34.0/datatables.js"></script><link href="ADNIMERGE2-Derived-Data_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="ADNIMERGE2-Derived-Data_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="ADNIMERGE2-Derived-Data_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="ADNIMERGE2-Derived-Data_files/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="ADNIMERGE2-Derived-Data_files/crosstalk-1.2.2/js/crosstalk.min.js"></script><link href="ADNIMERGE2-Derived-Data_files/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="ADNIMERGE2-Derived-Data_files/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="ADNIMERGE2-Derived-Data_files/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="ADNIMERGE2-Derived-Data_files/selectize-0.12.0/selectize.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>ADNIMERGE2-Derived-Data</h1>
            
            <h4 data-toc-skip class="date">Last Updated: November 12,
2025</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/atri-biostats/ADNIMERGE2/blob/HEAD/vignettes/ADNIMERGE2-Derived-Data.Rmd" class="external-link"><code>vignettes/ADNIMERGE2-Derived-Data.Rmd</code></a></small>
      <div class="d-none name"><code>ADNIMERGE2-Derived-Data.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="sec-intro">Introduction<a class="anchor" aria-label="anchor" href="#sec-intro"></a>
</h2>
<p>This article describes creating derived datasets from raw data
(eCRFs) for ADNI study. The purpose of generating such standardized
dataset is to create analysis ready dataset using the <a href="https://pharmaverse.org/" class="external-link">PHARMERVERSE</a> workflow, which
required standardized dataset as input. In <code>ADNIMERGE2</code> R
data package, the following derived datasets will be created for
illustration purpose, and more information about of each dataset is
presented in the corresponding subsections.</p>
<ul>
<li>Demographic (DM)</li>
<li>Subject Characteristics (SC)</li>
<li>Adverse Event (AE)</li>
<li>Questionnaires (QS)</li>
<li>Clinical Classification (RS)</li>
<li>Nervous System Finding (NV)</li>
<li>Laboratory Test Result (LB)</li>
<li>Genomics Findings (GF)</li>
<li>Vital Sign (VS)</li>
</ul>
<p><strong>NOTE: </strong></p>
<ul>
<li><p><em>ORIGPROT</em> variable is included in the DM dataset to
identify the first study protocol/phase of subjects’ enrollment in the
ADNI study.</p></li>
<li><p><em>COLPROT</em> or <em>—GRPID</em> variables are also included
in some of the derived dataset to identify the data collection study
protocol/phase in the ADNI study.</p></li>
<li><p><em>VISITNUM</em> variable is included only for creating study
epoch across the study phases and mainly used for data merging and
sorting purpose. The <em>VISITNUM</em> variable should not be used in
analysis that related to these derived dataset. Learn more about how the
study visit number <em>VISITNUM</em> is created in
<code>Data Preparation</code> section below.</p></li>
<li><p><em>These derived dataset may not be fully complied with the <a href="https://www.cdisc.org/standards/foundational/sdtm" class="external-link">CDISC-SDTM</a>
standardization.</em></p></li>
</ul>
</div>
<div class="section level2">
<h2 id="sec-load-pkg">Load Required R Packages<a class="anchor" aria-label="anchor" href="#sec-load-pkg"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/assertr/" class="external-link">assertr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://larmarange.github.io/labelled/" class="external-link">labelled</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/DT" class="external-link">DT</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">measurements</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pharmaverse.github.io/sdtm.oak/" class="external-link">sdtm.oak</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ADNI study R data package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://atri-biostats.github.io/ADNIMERGE2">ADNIMERGE2</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="sec-data-prep">Data Preparation<a class="anchor" aria-label="anchor" href="#sec-data-prep"></a>
</h2>
<p>In the study, subjects are categorized into two groups:</p>
<ul>
<li><p><em>New Subject: </em>Subjects that did not participate/enroll in
any of the previous ADNI study phases prior to a given study
phase.</p></li>
<li><p><em>Rollover Subject: </em>Subjects that participated/enrolled at
least in one of the previous study phases prior to a given study
phase.</p></li>
</ul>
<div class="section level3">
<h3 class="unlisted" id="sec-visitnum">Study Visit and Visit Number<a class="anchor" aria-label="anchor" href="#sec-visitnum"></a>
</h3>
<p>Some data wrangling were performed prior to creating the
pre-specified derived datasets. First, study epoch (<em>EPOCH</em>) with
corresponding study visit number (<em>VISITNUM</em>) was created based
on the <a href="../reference/VISITS.html"><code>VISITS</code></a> data,
and stored as <code>EPOCH_LIST_LONG</code>. Next, subject-specific study
visit with corresponding study epoch was created based on the <a href="../reference/REGISTRY.html"><code>REGISTRY</code></a> and <a href="../reference/ROSTER.html"><code>ROSTER</code></a> eCRFs along with
the <code>EPOCH_LIST_LONG</code> data. Then, the result output named as
<code>ADNI_VISIT_RECORD</code>. Here, rollover subjects may not have
sequential <em>VISITNUM</em> due to the study design which allows
rollovers to enroll in the next study phase before completing a given
study phase. As a result, <em>VISITNUM</em> records can be used for data
merging and sorting purpose with corresponding study visit date/form
completion date.</p>
<p>For more information, please refer to the source script of package
vignettes
<code><a href="../articles/ADNIMERGE2-Derived-Data.html">vignette(topic = 'ADNIMERGE2-Derived-Data', package = 'ADNIMERGE2')</a></code>.</p>
</div>
<div class="section level3">
<h3 class="unlisted" id="sec-status">Assessement Completion Date and Status<a class="anchor" aria-label="anchor" href="#sec-status"></a>
</h3>
<p>A study visit date from the <a href="../reference/REGISTRY.html"><code>REGISTRY</code></a> eCRF will be
used if the assessment specific completion date is missing with known
assessment result. Furthermore, any assessments with missing/unknown
results will be considered as not completed/not done.</p>
</div>
<div class="section level3">
<h3 class="unlisted" id="sec-bflg">Baseline Flag<a class="anchor" aria-label="anchor" href="#sec-bflg"></a>
</h3>
<p>A baseline flag is included in some of the derived dataset to
identify records that are closest to subject enrollment date or
collected at baseline visit. A record is flagged as baseline if one of
the following criteria is met:</p>
<ul>
<li><p>Record collected at baseline visits regardless the baseline
visit/collection date.</p></li>
<li><p>Any record collected prior to the baseline visit and closest to
the enrollment window period end date if the baseline record value is
missing or not collected. Enrollment window period is defined as 90 days
after the actual enrollment date.</p></li>
</ul>
<p>The assessment baseline flag is created using the <a href="https://github.com/atri-biostats/ADNIMERGE2/tree/inst/derived-dataset-sdtmoak-utils.R" class="external-link"><code>derive_blfl_adni</code></a>
function which is based the <code><a href="https://pharmaverse.github.io/sdtm.oak/reference/derive_blfl.html" class="external-link">sdtm.oak::derive_blfl</a></code> function
with minor study-specific modification. <em>NOTE: </em> However, there
might be more than one baseline flags per assessment per subject in a
given derived dataset. For future work, <code>derive_blfl_adni</code>
function will be updated to account such cases.</p>
</div>
<div class="section level3">
<h3 class="unlisted" id="sec-subjid">Subject Identifier<a class="anchor" aria-label="anchor" href="#sec-subjid"></a>
</h3>
<p>In ADNI derived dataset, subject identifier variable
(<code>USUBJID</code>) was created based on subject identification
number in the raw dataset with corresponding site id. The subject
identifier variable will have <code>ADNI-XXX-XXXXX</code> format. The
first three digits represents site id (<code>SITEID</code>) variable
that obtained either from the <a href="../reference/REGISTRY.html"><code>REGISTRY</code></a> or <a href="../reference/PTDEMOG.html"><code>PTDEMOG</code></a> or <a href="../reference/ROSTER.html"><code>ROSTER</code></a> eCRFs, and the
last five digits represents the subject identification number in the raw
dataset (<code>RID</code>). A preceding <code>0</code> value was added
for any values that have less number of digits.</p>
<p><em>NOTE: </em> Please see <code><a href="../reference/create_usubjid.html">create_usubjid()</a></code> and <a href="https://github.com/atri-biostats/ADNIMERGE2/tree/main/inst/derived-dataset-utils.R" class="external-link"><code>derive_usubjid()</code></a>
functions to learn more about how the subject identifier variable was
created.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load utils function from package system file</span></span>
<span><span class="va">utils_file_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"derived-dataset-sdtmoak-utils.R"</span>,</span>
<span>  <span class="st">"derived-dataset-utils.R"</span>,</span>
<span>  <span class="st">"derived-labdata-utils.R"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">utils_file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span>
<span>  <span class="va">utils_file_list</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"ADNIMERGE2"</span>,</span>
<span>  mustWork <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">load_utils_funs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">utils_file_path</span>, <span class="va">source</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add study track (i.e., New or Rollover)</span></span>
<span><span class="va">REGISTRY</span> <span class="op">&lt;-</span> <span class="va">REGISTRY</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>PTTYPE <span class="op">=</span> <span class="fu"><a href="../reference/adni_study_track.html">adni_study_track</a></span><span class="op">(</span><span class="va">COLPROT</span>, <span class="va">ORIGPROT</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ROSTER</span> <span class="op">&lt;-</span> <span class="va">ROSTER</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>PTTYPE <span class="op">=</span> <span class="fu"><a href="../reference/adni_study_track.html">adni_study_track</a></span><span class="op">(</span><span class="va">COLPROT</span>, <span class="va">ORIGPROT</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="sec-build-data">Building Derived Dataset<a class="anchor" aria-label="anchor" href="#sec-build-data"></a>
</h2>
<div class="section level3">
<h3 id="sec-dm">Demographic (DM)<a class="anchor" aria-label="anchor" href="#sec-dm"></a>
</h3>
<p><a href="../reference/DM.html"><code>DM</code></a> dataset contains
one records per subject when subjects were enrolled or screened in the
ADNI study for the first time (i.e. as new-enrollee).</p>
<details><summary>
Show <code>DM</code> Variables
</summary><div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],["STUDYID","DOMAIN","USUBJID","SUBJID","ORIGPROT","SESTDTC","RFSTDTC","RFPENDTC","DTHDTC","DTHFL","SITEID","AGE","AGEU","SEX","RACE","ETHNIC","ARMCD","ARM","ACTARMCD","ACTARM","ARMNRS","COUNTRY","DMDTC","DMDY"],["Study Identifier","Domain Abbreviation","Unique Subject Identifier","Subject Identifier for the Study","Original study protocol","Screening Start Date/Time","Subject Enrolled Date/Time *","Date/Time of End of Participation*","Date/Time of Death","Subject Death Flag","Study Site Identifier","Age","Age Units","Sex at Birth","Race","Ethnicity","Planned Arm Code","Description of Planned Arm","Actual Arm Code","Actual Treatment Description","Reason Arm and/or Actual Arm is Null","Country","Date/Time of Collection","Study Day of Collection"],[" "," "," "," ","First time participation in ADNI study phase","First screening start date/time"," ","Last known date/time when participant ended thier participation or follow-up in ADNI study. As character format for unknown MM-DD values."," "," "," ","Age at first screening visit (in years)"," "," "," "," "," "," "," "," ","Non-Interventional Study","Country of the investigational site located"," "," "]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>FLDNAME<\/th>\n      <th>LABEL<\/th>\n      <th>TEXT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"FLDNAME","targets":1},{"name":"LABEL","targets":2},{"name":"TEXT","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script></details><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Join columns</span></span>
<span><span class="va">dm_join_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RID"</span>, <span class="st">"ORIGPROT"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Demographic data columns</span></span>
<span><span class="va">dm_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PTGENDER"</span>, <span class="st">"PTRACCAT"</span>, <span class="st">"PTETHCAT"</span>, <span class="st">"PTDOB"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dm_cols</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SEX"</span>, <span class="st">"RACE"</span>, <span class="st">"ETHNIC"</span>, <span class="st">"BRTHDTC"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">DM</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>RID <span class="op">=</span> <span class="va">unique_rid</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ORIGPROT <span class="op">=</span> <span class="fu"><a href="../reference/original_study_protocol.html">original_study_protocol</a></span><span class="op">(</span>RID <span class="op">=</span> <span class="va">RID</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Add PTDEMOG record</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="va">PTDEMOG</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">ORIGPROT</span>, <span class="va">COLPROT</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ORIGPROT</span> <span class="op">==</span> <span class="va">COLPROT</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">RID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">VISDATE</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">VISDATE</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">VISDATE</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|</span></span>
<span>          <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">VISDATE</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span></span>
<span>      <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="../reference/assert_uniq.html">assert_uniq</a></span><span class="op">(</span><span class="va">RID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">VISDATE</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">dm_cols</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="va">dm_join_var</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">dm_cols</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"PTDEMOG"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DM</span> <span class="op">&lt;-</span> <span class="va">DM</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Add screening visit date</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/get_adni_screen_date.html">get_adni_screen_date</a></span><span class="op">(</span></span>
<span>      .registry <span class="op">=</span> <span class="va">REGISTRY</span>,</span>
<span>      phase <span class="op">=</span> <span class="st">"Overall"</span>,</span>
<span>      multiple_screen_visit <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, SESTDTC <span class="op">=</span> <span class="va">SCREENDATE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/assert.html" class="external-link">assert</a></span><span class="op">(</span><span class="va">is_uniq</span>, <span class="va">RID</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="va">dm_join_var</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Add enrollment/RFSTDTC date</span></span>
<span>  <span class="fu">create_rfstdtc</span><span class="op">(</span>.registry <span class="op">=</span> <span class="va">REGISTRY</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Compute age based on first screening date</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    AGE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">SESTDTC</span> <span class="op">-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">my</a></span><span class="op">(</span><span class="va">BRTHDTC</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="fl">365.25</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>    AGEU <span class="op">=</span> <span class="st">"Years"</span>,</span>
<span>    SUBJID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">RID</span><span class="op">)</span>,</span>
<span>    ARMCD <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    ACTARM <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    ARM <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    ACTARMCD <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    ACTARM <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    ARMNRS <span class="op">=</span> <span class="st">"Non-Interventional Study"</span>,</span>
<span>    COUNTRY <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    DMDTC <span class="op">=</span> <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/create_iso8601.html" class="external-link">create_iso8601</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">VISDATE</span><span class="op">)</span>, .format <span class="op">=</span> <span class="st">"y-m-d"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add death flag</span></span>
<span><span class="va">DM</span> <span class="op">&lt;-</span> <span class="va">DM</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/get_death_flag.html">get_death_flag</a></span><span class="op">(</span></span>
<span>      .studysum <span class="op">=</span> <span class="va">STUDYSUM</span>,</span>
<span>      .adverse <span class="op">=</span> <span class="va">ADVERSE</span>,</span>
<span>      .recadv <span class="op">=</span> <span class="va">RECADV</span></span>
<span>    <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">DTHFL</span> <span class="op">==</span> <span class="st">"Yes"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">DTHFL</span>, <span class="va">DTHDTC</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="va">dm_join_var</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add last known disposition date</span></span>
<span><span class="va">DM</span> <span class="op">&lt;-</span> <span class="va">DM</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/get_disposition_flag.html">get_disposition_flag</a></span><span class="op">(</span></span>
<span>      .registry <span class="op">=</span> <span class="va">REGISTRY</span>,</span>
<span>      .studysum <span class="op">=</span> <span class="va">STUDYSUM</span></span>
<span>    <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>COLPROT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">COLPROT</span>, levels <span class="op">=</span> <span class="fu"><a href="../reference/adni_phase.html">adni_phase</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">RID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">COLPROT</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="co"># Last known discontinuation/disposition date</span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">SDSTATUS</span>, RFPENDTC <span class="op">=</span> <span class="va">SDDATE</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="va">dm_join_var</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>RFPENDTC <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DTHDTC</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">RFPENDTC</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">DTHDTC</span><span class="op">)</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">RFPENDTC</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DM</span> <span class="op">&lt;-</span> <span class="va">DM</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Derive USUBJID and SITIED</span></span>
<span>  <span class="fu">derive_usubjid</span><span class="op">(</span></span>
<span>    .data <span class="op">=</span> <span class="va">.</span>,</span>
<span>    .registry <span class="op">=</span> <span class="va">REGISTRY</span>,</span>
<span>    .roster <span class="op">=</span> <span class="va">ROSTER</span>,</span>
<span>    .ptdemog <span class="op">=</span> <span class="va">PTDEMOG</span>,</span>
<span>    varList <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"SITEID"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_study_day_adni</span><span class="op">(</span></span>
<span>    sdtm_in <span class="op">=</span> <span class="va">.</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"DM"</span>,</span>
<span>    dm_domain <span class="op">=</span> <span class="va">.</span>,</span>
<span>    refdt <span class="op">=</span> <span class="st">"RFSTDTC"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_studyid_domain</span><span class="op">(</span></span>
<span>    studyid <span class="op">=</span> <span class="st">"ADNI"</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"DM"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_vars_label</span><span class="op">(</span></span>
<span>    .data <span class="op">=</span> <span class="va">.</span>,</span>
<span>    data_dict <span class="op">=</span> <span class="va">dm_data_dic</span>,</span>
<span>    .strict <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">SITEID</span>, <span class="va">USUBJID</span>, <span class="va">SUBJID</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sec-sc">Subject Characteristics (SC)<a class="anchor" aria-label="anchor" href="#sec-sc"></a>
</h3>
<p><a href="../reference/SC.html"><code>SC</code></a> dataset contains
subject-related data that are not collected in <a href="../reference/DM.html"><code>DM</code></a> domain and/or
characteristics that are collected over time. In ADNI study, subject
characteristics that are collected across the study phases: ADNI1,
ADNIGO, ADNI2, ADNI3, and ADNI4 can be stored in <a href="../reference/SC.html"><code>SC</code></a>. The <a href="../reference/SC.html"><code>SC</code></a> dataset will contains
characteristics collected from three source datasets: <a href="../reference/PTDEMOG.html"><code>PTDEMOG</code></a>, <a href="../reference/ADI.html"><code>ADI</code></a> and <a href="../reference/RURALITY.html"><code>RURALITY</code></a>.</p>
<details><summary>
Show <code>SC</code> Variables
</summary><div class="datatables html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16"],["STUDYID","DOMAIN","USUBJID","SCSEQ","SCGRPID","SCTESTCD","SCTEST","SCCAT","SCORRES","SCSTRESN","SCBLFL","VISITNUM","VISIT","EPOCH","SCDTC","SCDY"],["Study Identifier","Domain Abbrevation","Unique Subject Identifier","Sequence Number","Group ID","Subject Characteristic Short Name","Subject Characteristic","Category for Subject Characteristic","Result or Finding in Original Units","Numeric Result/Finding in Standard Units","Baseline Flag","Visit Number","Visit Name","Epoch","Date/Time of Collection","Study Day of Collection"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>FLDNAME<\/th>\n      <th>LABEL<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"FLDNAME","targets":1},{"name":"LABEL","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script></details><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Full demographic records ----</span></span>
<span><span class="va">sc_common_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ORIGPROT"</span>, <span class="st">"COLPROT"</span>, <span class="st">"RID"</span>, <span class="st">"VISCODE"</span>, <span class="st">"VISDATE"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">SC_PTDEMOG</span> <span class="op">&lt;-</span> <span class="va">PTDEMOG</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"PTID"</span>, <span class="st">"VISCODE2"</span>, <span class="st">"ID"</span>, <span class="st">"SITEID"</span>, <span class="st">"USERDATE"</span>, <span class="st">"USERDATE2"</span>,</span>
<span>      <span class="st">"DD_CRF_VERSION_LABEL"</span>, <span class="st">"LANGUAGE_CODE"</span>, <span class="st">"HAS_QC_ERROR"</span>, <span class="st">"update_stamp"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>COLPROT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">COLPROT</span>, levels <span class="op">=</span> <span class="fu"><a href="../reference/adni_phase.html">adni_phase</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">COLPROT</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Since it is observational study</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">COLPROT</span>, <span class="va">VISDATE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/fill.html" class="external-link">fill</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">sc_common_cols</span><span class="op">)</span>, .direction <span class="op">=</span> <span class="st">"down"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/fill.html" class="external-link">fill</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">sc_common_cols</span><span class="op">)</span>, .direction <span class="op">=</span> <span class="st">"up"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">sc_common_cols</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>VISCODE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">VISCODE</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">EPOCH_LIST</span><span class="op">$</span><span class="va">VISCODE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">VISCODE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">SC_DEMOG</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>RID <span class="op">=</span> <span class="va">unique_rid</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ORIGPROT <span class="op">=</span> <span class="fu"><a href="../reference/original_study_protocol.html">original_study_protocol</a></span><span class="op">(</span>RID <span class="op">=</span> <span class="va">RID</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="va">SC_PTDEMOG</span>,</span>
<span>    by <span class="op">=</span> <span class="va">dm_join_var</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="op">!</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">sc_common_cols</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"SCTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"SCORRES"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Remove missing values</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html" class="external-link">drop_na</a></span><span class="op">(</span><span class="va">SCORRES</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    SCCAT <span class="op">=</span> <span class="st">"Demographic Records"</span>,</span>
<span>    SCDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">VISDATE</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Required a long format dataset</span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"PTDEMOG"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Area Deprivation Index (ADI) for ADNI4 phase only ----</span></span>
<span><span class="va">SC_ADI</span> <span class="op">&lt;-</span> <span class="va">ADI</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">COLPROT</span> <span class="op">==</span> <span class="fu"><a href="../reference/adni_phase.html">adni_phase</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    <span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">VISCODE</span>, <span class="va">ADISTATE</span>, <span class="va">ADINATIONAL</span>, <span class="va">ADIREV</span>,</span>
<span>    SCDTC <span class="op">=</span> <span class="va">ADIDATE</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"ADI"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">ADISTATE</span>, <span class="va">ADINATIONAL</span>, <span class="va">ADIREV</span>, <span class="va">SCDTC</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">ADISTATE</span>, <span class="va">ADINATIONAL</span>, <span class="va">ADIREV</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"SCTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"SCORRES"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>SCCAT <span class="op">=</span> <span class="st">"Area Deprivation Index"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># RUCA and RUCC from ADNI4 phase only ----</span></span>
<span><span class="va">rurality_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RUCA"</span>, <span class="st">"RUCC"</span>, <span class="st">"RUCA_2010"</span>, <span class="st">"RUCC_2023"</span><span class="op">)</span></span>
<span><span class="va">SC_RURALITY</span> <span class="op">&lt;-</span> <span class="va">RURALITY</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">COLPROT</span> <span class="op">==</span> <span class="fu"><a href="../reference/adni_phase.html">adni_phase</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    <span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">VISCODE</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">rurality_cols</span><span class="op">)</span>,</span>
<span>    SCDTC <span class="op">=</span> <span class="va">RURDATE</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"RURALITY"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">rurality_cols</span>, <span class="st">"SCDTC"</span><span class="op">)</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">rurality_cols</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"SCTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"SCORRES"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>SCCAT <span class="op">=</span> <span class="st">"Rurality"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SC</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">SC_DEMOG</span>, <span class="va">SC_ADI</span>, <span class="va">SC_RURALITY</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_uniq.html">assert_uniq</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">VISCODE</span>, <span class="va">SCTESTCD</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    COLPROT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">COLPROT</span>, levels <span class="op">=</span> <span class="fu"><a href="../reference/adni_phase.html">adni_phase</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    SCGRPID <span class="op">=</span> <span class="va">COLPROT</span>,</span>
<span>    SCSTAT <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">SCDTC</span><span class="op">)</span> <span class="op">~</span> <span class="st">"NOT DONE"</span><span class="op">)</span>,</span>
<span>    SCSTRESN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">SCORRES</span><span class="op">)</span>,</span>
<span>    SCDTC <span class="op">=</span> <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/create_iso8601.html" class="external-link">create_iso8601</a></span><span class="op">(</span><span class="va">SCDTC</span>, .format <span class="op">=</span> <span class="st">"y-m-d"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_uniq.html">assert_uniq</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">VISCODE</span>, <span class="va">SCTESTCD</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_usubjid</span><span class="op">(</span>varList <span class="op">=</span> <span class="st">"USUBJID"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_studyid_domain</span><span class="op">(</span></span>
<span>    .data <span class="op">=</span> <span class="va">.</span>,</span>
<span>    studyid <span class="op">=</span> <span class="st">"ADNI"</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"SC"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_visit_attr</span><span class="op">(</span></span>
<span>    .data <span class="op">=</span> <span class="va">.</span>,</span>
<span>    visit_record_data <span class="op">=</span> <span class="va">ADNI_VISIT_RECORD</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"SC"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_epoch</span><span class="op">(</span></span>
<span>    .data <span class="op">=</span> <span class="va">.</span>,</span>
<span>    .epoch <span class="op">=</span> <span class="va">EPOCH_LIST_LONG</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_blfl_adni</span><span class="op">(</span></span>
<span>    sdtm_in <span class="op">=</span> <span class="va">.</span>,</span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    tgt_var <span class="op">=</span> <span class="st">"SCBLFL"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_study_day_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"SC"</span>,</span>
<span>    refdt <span class="op">=</span> <span class="st">"RFSTDTC"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/derive_seq.html" class="external-link">derive_seq</a></span><span class="op">(</span></span>
<span>    tgt_var <span class="op">=</span> <span class="st">"SCSEQ"</span>,</span>
<span>    rec_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"SCTESTCD"</span>, <span class="st">"SCGRPID"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SC</span> <span class="op">&lt;-</span> <span class="va">SC</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Add characteristics test name and check coded value</span></span>
<span>  <span class="fu">set_dom_test</span><span class="op">(</span></span>
<span>    .data <span class="op">=</span> <span class="va">.</span>,</span>
<span>    .data_list <span class="op">=</span> <span class="va">SC_TESTCD_LIST</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">SCTESTCD</span>, <span class="va">SCTEST</span><span class="op">)</span>,</span>
<span>    merge_by <span class="op">=</span> <span class="st">"SCTESTCD"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">SCTESTCD</span>, <span class="va">SCTEST</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_vars_label</span><span class="op">(</span>data_dict <span class="op">=</span> <span class="va">sc_data_dic</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sec-ae">Adverse Events (AE)<a class="anchor" aria-label="anchor" href="#sec-ae"></a>
</h3>
<p><a href="../reference/AE.html"><code>AE</code></a> dataset contains
one records per adverse event per subject. The <a href="../reference/AE.html"><code>AE</code></a> dataset will includes
the following characteristics for subjects that have at least one
adverse events experience during the study.</p>
<p><em>NOTE: </em> Currently, <code>AE</code> only includes records that
are collected in <em>ADNI3</em> and <em>ADNI4</em> study phases.</p>
<details><summary>
Show <code>AE</code> Variables
</summary><div class="datatables html-widget html-fill-item" id="htmlwidget-36aa3d2a04d42bbc2145" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44"],["STUDYID","DOMAIN","USUBJID","AEGRPID","AESEQ","AETERM","AELLT","AELLTCD","AEDECOD","AEPTCD","AEHLT","AEHLTCD","AEHLGT","AEHLGTCD","AESOC","AESOCCD","AESEV","AESER","AEOUT","AESCONG","AESDISAB","AESDTH","AESHOSP","AESLIFE","AESMIE","AECONTRT","AERELAD","AERELCM","AERELFLRBTBN","AERELFLRBPR","AEHIMG","AERELTAU","AERELNAV","AERELMK","AERELPI","AEHLUMB","AERELCOVID","AERELPAN","AERELATESP","VISITNUM","VISIT","EPOCH","AESTDTC","AEENDTC"],["Study Identifier","Domain Abbreviation","Unique Subject Identifier","Group ID","Sequence Number","Reported Term for the Adverse Event","Lowest Level Term","Lowest Level Term Code","Dictionary-Derived Term","Preferred Term Code","High Level Term","High Level Term Code","High Level Group Term","High Level Group Term Code","Primary Sytem Organ Class","Primary Sytem Organ Class Code","Severity/Intensity","Serious Event","Outcome of Adverse Event","Congential Anomaly or Birth Defect","Persist or Signif Disability/Incapacity","Results in Death","Requires or Prologns Hospitalization","Is Life Threating","Other Medically Important Serious Event","Concomitant or Additional Trtmnt Given","Related to Early Stage or Progression of AD","Related to Concomitant Therapy","Related to Florbetaben Tracer","Related to Florbetapir Tracer","Related to PET/MRI Imaging Procedure","Related to Flotaucipir Tracer ","Related to NAV-4694 Tracer","Related to MK-6240 Tracer","Related to PI-2620 Tracer","Related to Lumbar Puncture","Related to COVID-19 Illness","Related to COVID-19 Pandemic Disruption","Related to Other Study Procedure(s)","Visit Number","Visit Name","Epoch","Start Date/Time of Adverse Event","End Date/Time of Adverse Event"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>FLDNAME<\/th>\n      <th>LABEL<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"FLDNAME","targets":1},{"name":"LABEL","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script></details><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Adverse Event for ADNI3 and ADNI4</span></span>
<span><span class="va">AE_ADNI34</span> <span class="op">&lt;-</span> <span class="va">ADVERSE</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    <span class="va">ID</span>, <span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">VISCODE</span>, <span class="va">SITEID</span>, <span class="va">AENUMBER</span>, <span class="va">AEOUTCOME</span>,</span>
<span>    <span class="va">AEHONSDT</span>, <span class="va">AEHCSDT</span>, <span class="va">AEHDTHDT</span>, <span class="va">AERELAD</span>, <span class="va">AERELCM</span>, <span class="va">AERELFLRBTBN</span>, <span class="va">AERELFLRBPR</span>,</span>
<span>    <span class="va">AEHIMG</span>, <span class="va">AERELTAU</span>, <span class="va">AERELNAV</span>, <span class="va">AERELMK</span>, <span class="va">AERELPI</span>, <span class="va">AEHLUMB</span>, <span class="va">AERELCOVID</span>, <span class="va">AERELPAN</span>,</span>
<span>    <span class="va">AERELATESP</span>, <span class="va">AESERIOUS</span>, <span class="va">AESERDATE</span>, <span class="va">SAELIFE</span>, <span class="va">SAEHOSPIT</span>, <span class="va">SAEPROLONG</span>, <span class="va">SAEDEATH</span>,</span>
<span>    <span class="va">SAECONGEN</span>, <span class="va">SAEDISAB</span>, <span class="va">SAEOTHER</span>, <span class="va">AEHCMEDS</span>,</span>
<span>    AESEV0 <span class="op">=</span> <span class="va">AEHSEVR</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"AESEV"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"ADVERSE"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">AENUMBER</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Filter the worst severity level per RID, AENUMBER, COLPROT</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"AESEV"</span>, <span class="fl">0</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"AESEV"</span>, <span class="fl">0</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"SEVERITY_COL"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"AESEV"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>AESEV_NUM <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">AESEV</span> <span class="op">==</span> <span class="st">"Mild"</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>    <span class="va">AESEV</span> <span class="op">==</span> <span class="st">"Moderate"</span> <span class="op">~</span> <span class="fl">2</span>,</span>
<span>    <span class="va">AESEV</span> <span class="op">==</span> <span class="st">"Severe"</span> <span class="op">~</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">SITEID</span>, <span class="va">AENUMBER</span>, <span class="va">VISCODE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">AESEV</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|</span></span>
<span>      <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">AESEV</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">AESEV_NUM</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">AESEV_NUM</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|</span></span>
<span>      <span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">ADVERSE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_uniq.html">assert_uniq</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">AENUMBER</span>, <span class="va">VISCODE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span></span>
<span>    <span class="st">"AESER"</span> <span class="op">=</span> <span class="va">AESERIOUS</span>, <span class="st">"AEOUT"</span> <span class="op">=</span> <span class="va">AEOUTCOME</span>,</span>
<span>    <span class="st">"AESCONG"</span> <span class="op">=</span> <span class="va">SAECONGEN</span>, <span class="st">"AESDISAB"</span> <span class="op">=</span> <span class="va">SAEDISAB</span>, <span class="st">"AESDTH"</span> <span class="op">=</span> <span class="va">SAEDEATH</span>,</span>
<span>    <span class="st">"AESLIFE"</span> <span class="op">=</span> <span class="va">SAELIFE</span>, <span class="st">"AESMIE"</span> <span class="op">=</span> <span class="va">SAEOTHER</span>, <span class="st">"AECONTRT"</span> <span class="op">=</span> <span class="va">AEHCMEDS</span>,</span>
<span>    <span class="st">"AESTDTC"</span> <span class="op">=</span> <span class="va">AEHONSDT</span>, <span class="st">"AEENDTC"</span> <span class="op">=</span> <span class="va">AEHCSDT</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Adverse events for `required or prolongs hospitalization`</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    AESHOSP <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">SAEHOSPIT</span> <span class="op">==</span> <span class="st">"Yes"</span> <span class="op">|</span> <span class="va">SAEPROLONG</span> <span class="op">==</span> <span class="st">"Yes"</span> <span class="op">~</span> <span class="st">"Yes"</span>,</span>
<span>      <span class="va">SAEHOSPIT</span> <span class="op">==</span> <span class="st">"No"</span> <span class="op">&amp;</span> <span class="va">SAEPROLONG</span> <span class="op">==</span> <span class="st">"No"</span> <span class="op">~</span> <span class="st">"No"</span>,</span>
<span>      <span class="va">SAEHOSPIT</span> <span class="op">==</span> <span class="st">"No"</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">SAEPROLONG</span><span class="op">)</span> <span class="op">~</span> <span class="st">"No"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">SAEHOSPIT</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">SAEPROLONG</span> <span class="op">==</span> <span class="st">"No"</span> <span class="op">~</span> <span class="st">"No"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">SAEHOSPIT</span>, <span class="va">SAEPROLONG</span>, <span class="va">AESEV_NUM</span>, <span class="va">SEVERITY_COL</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Required checking for missing AENUMBER in RECADV</span></span>
<span><span class="va">AE_ADNI12GO</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>PHASE <span class="op">=</span> <span class="cn">NA_character_</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">AE</span> <span class="op">&lt;-</span> <span class="va">AE_ADNI34</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">AE_ADNI12GO</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">RID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    AESTDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">AESTDTC</span><span class="op">)</span>,</span>
<span>    AEENDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">AEENDTC</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">RID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">AESTDTC</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>AESEQ <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">AE</span> <span class="op">&lt;-</span> <span class="va">AE</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_usubjid</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_studyid_domain</span><span class="op">(</span>domain <span class="op">=</span> <span class="st">"AE"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_visit_attr</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_epoch</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    AEGRPID <span class="op">=</span> <span class="va">COLPROT</span>,</span>
<span>    AETERM <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    AELLT <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    AELLTCD <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    AEDECOD <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    AEPTCD <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    AEHLT <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    AEHLTCD <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    AEHLGT <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    AEHLGTCD <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    AESOC <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    AESOCCD <span class="op">=</span> <span class="cn">NA_character_</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_vars_label</span><span class="op">(</span>data_dict <span class="op">=</span> <span class="va">ae_data_dic</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sec-qs">Questionnaires (QS)<a class="anchor" aria-label="anchor" href="#sec-qs"></a>
</h3>
<p><a href="../reference/QS.html"><code>QS</code></a> dataset contains
one record per parameter finding (i.e. total score) per visit per
subject.</p>
<details><summary>
Show <code>QS</code> Variables
</summary><div class="datatables html-widget html-fill-item" id="htmlwidget-febe03efa1a2d8d52a86" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-febe03efa1a2d8d52a86">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],["STUDYID","DOMAIN","USUBJID","QSSEQ","QSGRPID","QSTESTCD","QSTEST","QSCAT","QSORRES","QSSTRESC","QSSTRESN","QSSTAT","QSREASND","QSBLFL","QSDRVFL","VISITNUM","VISIT","EPOCH","QSDTC","QSDY"],["Study Identifier","Domain Abbrevation","Unique Subject Identifier","Sequence Number","Group ID","Question Short Name","Question Name","Category of Question","Finding in Original Units","Character Result/Finding in Std Format","Numeric Finding in Standard Units","Completion Status","Reason Not Performed","Baseline Flag","Derived Flag","Visit Number","Visit Name","Epoch","Date/Time of Finding","Study Day of Finding"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>FLDNAME<\/th>\n      <th>LABEL<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"FLDNAME","targets":1},{"name":"LABEL","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script></details><p>The following cognitive/functional assessment scores are included in
the <a href="../reference/QS.html"><code>QS</code></a> dataset.</p>
<div class="datatables html-widget html-fill-item" id="htmlwidget-1fb4450895fe099f74a1" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1fb4450895fe099f74a1">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],["ADAS","ADAS","CDR","CDR","ECOGPT","ECOGSP","FAQ","FCI","GDS","MMSE","MOCA","NEUROBAT","NEUROBAT","NEUROBAT","NEUROBAT","NEUROBAT","NEUROBAT","NEUROBAT","NEUROBAT","NPI","NPIQ","PACC","PACC"],["ADAS-COG","ADAS-COG","CDR","CDR","ECOG SHORT FORM","ECOG SHORT FORM","FAQ","FCI","GDS","MMSE","MOCA","NEUROBAT","NEUROBAT","NEUROBAT","NEUROBAT","NEUROBAT","NEUROBAT","NEUROBAT","NEUROBAT","NPI","NPIQ","PACC","PACC"],["ADASTT11","ADASTT13","CDGLOBAL","CDRSB","ECOGPTTT","ECOGSPTT","FAQTOTAL","FCISCORE","GDTOTAL","MMSCORE","MOCA","DIGITSCR","LDELTOTL","LIMMTOTL","RAVLTFG","RAVLTFGP","RAVLTIMM","RAVLTLRN","TRABSCOR","NPITOTAL","NPIQTOTL","MPACCDIGIT","MPACCTRAILSB"],["ADAS-Cognitive Behavior 11-Item Total Score","ADAS-Cognitive Behavior 13-Item Total Score","Clinical Dementia Rating Global Score","Clinical Dementia Rating Sum of Boxes","Everyday Cognition - Participant","Everyday Cognition - Study Partner","Functional Assessments Questionnaires","Financial Capacity Instrument Short Form","Geriatric Depression Scale","Mini Mental State Exam","Montreal Cognitive Assessments","Digit Symbol Substitution","Logical Memory - Delayed Recall","Logical Memory - Immediate Recall","RAVLT Forgetting (Trial 5 - Delayed)","RAVLT Percent Forgetting","RVAL Immediate (Sum of 5 Trials)","RVAL Learning (Trial 5 - Trial 1)","Trails B","Neuropsychiatric Inventory","Neuropsychiatric Inventory Q","Modified PACC Digit Score","Modified PACC Trials B Score"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SOURCE<\/th>\n      <th>QSCAT<\/th>\n      <th>QSTESTCD<\/th>\n      <th>QSTEST<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"SOURCE","targets":1},{"name":"QSCAT","targets":2},{"name":"QSTESTCD","targets":3},{"name":"QSTEST","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qs_com_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"RID"</span>, <span class="st">"ORIGPROT"</span>, <span class="st">"COLPROT"</span>, <span class="st">"VISCODE"</span>,</span>
<span>  <span class="st">"VISCODE2"</span>, <span class="st">"VISDATE"</span>, <span class="st">"SITEID"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ADAS Cognitive Behavior Total Score ----</span></span>
<span><span class="va">ADAS_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">ADAS</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>, ADASTT11 <span class="op">=</span> <span class="va">TOTSCORE</span>, ADASTT13 <span class="op">=</span> <span class="va">TOTAL13</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"ADAS"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">ADASTT11</span>, <span class="va">ADASTT13</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"QSTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"QSSTRESC"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSDRVFL <span class="op">=</span> <span class="st">"Yes"</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>, <span class="st">"NOT DONE"</span>, <span class="cn">NA_character_</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Clinical Dementia Rating Score ----</span></span>
<span><span class="va">CDR_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">CDR</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>, <span class="va">CDGLOBAL</span>, <span class="va">CDRSB</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"CDR"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">CDGLOBAL</span>, <span class="va">CDRSB</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"QSTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"QSSTRESC"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>, <span class="st">"NOT DONE"</span>, <span class="cn">NA_character_</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Everyday Cognition Total Score ----</span></span>
<span><span class="va">ECOG_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">ECOGPT</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>QSTESTCD <span class="op">=</span> <span class="st">"ECOGPTTT"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>, <span class="va">QSTESTCD</span>, QSSTRESC <span class="op">=</span> <span class="va">EcogPtTotal</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"ECOGPT"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>    <span class="va">ECOGSP</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>QSTESTCD <span class="op">=</span> <span class="st">"ECOGSPTT"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>, <span class="va">QSTESTCD</span>, QSSTRESC <span class="op">=</span> <span class="va">EcogSPTotal</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"ECOGSP"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSDRVFL <span class="op">=</span> <span class="st">"Yes"</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>, <span class="st">"NOT DONE"</span>, <span class="cn">NA_character_</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Financial Capacity Instrument Short Form - Score ----</span></span>
<span><span class="va">FCI_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">FCI</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>,</span>
<span>    QSSTRESC <span class="op">=</span> <span class="va">FCISCORE</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="va">DONE</span>, QSREASND <span class="op">=</span> <span class="va">NDREASON</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSTESTCD <span class="op">=</span> <span class="st">"FCISCORE"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"FCI"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Functional Assessments Questionnaires - Score ----</span></span>
<span><span class="va">FAQ_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">FAQ</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>, QSSTRESC <span class="op">=</span> <span class="va">FAQTOTAL</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSTESTCD <span class="op">=</span> <span class="st">"FAQTOTAL"</span>,</span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"FAQ"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Geriatric Depression Scale ----</span></span>
<span><span class="va">GDS_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">GDSCALE</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>, QSSTRESC <span class="op">=</span> <span class="va">GDTOTAL</span>, QSREASND <span class="op">=</span> <span class="va">GDUNABL</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSTESTCD <span class="op">=</span> <span class="st">"GDTOTAL"</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">QSREASND</span><span class="op">)</span>, <span class="st">"NOT DONE"</span>, <span class="cn">NA_character_</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"GDSCALE"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Mini Mental State Exam Score ----</span></span>
<span><span class="va">MMSE_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">MMSE</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>,</span>
<span>    QSSTRESC <span class="op">=</span> <span class="va">MMSCORE</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="va">DONE</span>, QSREASND <span class="op">=</span> <span class="va">NDREASON</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSTESTCD <span class="op">=</span> <span class="st">"MMSCORE"</span>,</span>
<span>    QSDRVFL <span class="op">=</span> <span class="st">"Yes"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"MMSE"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Montreal Cognitive Assessments ----</span></span>
<span><span class="va">MOCA_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">MOCA</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>, QSSTRESC <span class="op">=</span> <span class="va">MOCA</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSTESTCD <span class="op">=</span> <span class="st">"MOCA"</span>,</span>
<span>    QSDRVFL <span class="op">=</span> <span class="st">"Yes"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"MOCA"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Neuropsychiatric Inventory ----</span></span>
<span><span class="va">NPI_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">NPI</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"VISDATE"</span> <span class="op">=</span> <span class="va">EXAMDATE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>, QSSTRESC <span class="op">=</span> <span class="va">NPITOTAL</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSTESTCD <span class="op">=</span> <span class="st">"NPITOTAL"</span>,</span>
<span>    QSDRVFL <span class="op">=</span> <span class="st">"Yes"</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>, <span class="st">"NOT DONE"</span>, <span class="cn">NA_character_</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"NPI"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Neuropsychiatric Inventory Q ----</span></span>
<span><span class="va">NPIQ_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">NPIQ</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>, QSSTRESC <span class="op">=</span> <span class="va">NPISCORE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSTESTCD <span class="op">=</span> <span class="st">"NPIQTOTL"</span>,</span>
<span>    QSDRVFL <span class="op">=</span> <span class="st">"Yes"</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>, <span class="st">"NOT DONE"</span>, <span class="cn">NA_character_</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"NPIQ"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Logical Memory - Immediate/Delayed Recall ----</span></span>
<span><span class="va">neurobat_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"LIMMTOTL"</span>, <span class="st">"LDELTOTL"</span>, <span class="st">"DIGITSCR"</span>, <span class="st">"TRABSCOR"</span>,</span>
<span>  <span class="st">"RAVLTIMM"</span>, <span class="st">"RAVLTLRN"</span>, <span class="st">"RAVLTFG"</span>, <span class="st">"RAVLTFGP"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">NEUROBAT_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">NEUROBAT</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/compute_neurobat_subscore.html">compute_neurobat_subscore</a></span><span class="op">(</span>.neurobat <span class="op">=</span> <span class="va">.</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">qs_com_cols</span>, <span class="va">neurobat_cols</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"NEUROBAT"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">neurobat_cols</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"QSTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"QSSTRESC"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSDRVFL <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">QSTESTCD</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>        <span class="st">"RAVLTIMM"</span>, <span class="st">"RAVLTRN"</span>, <span class="st">"RAVLTFG"</span>, <span class="st">"RAVLTFGP"</span></span>
<span>      <span class="op">)</span> <span class="op">~</span> <span class="st">"Yes"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>, <span class="st">"NOT DONE"</span>, <span class="cn">NA_character_</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Composite modified PACC score</span></span>
<span><span class="va">pacc_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mPACCdigit"</span>, <span class="st">"mPACCtrailsB"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">PACC_SCORE_DATA</span> <span class="op">&lt;-</span> <span class="va">PACC</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"VISDATE"</span> <span class="op">=</span> <span class="va">PACC_VISDATE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of</a></span><span class="op">(</span><span class="va">qs_com_cols</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">pacc_cols</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>RID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">RID</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"PACC"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">pacc_cols</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"QSTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"QSSTRESC"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSTESTCD <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html" class="external-link">str_to_upper</a></span><span class="op">(</span><span class="va">QSTESTCD</span><span class="op">)</span>,</span>
<span>    QSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSDRVFL <span class="op">=</span> <span class="st">"Yes"</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>, <span class="st">"NOT DONE"</span>, <span class="cn">NA_character_</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Score data names</span></span>
<span><span class="va">score_data_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"SCORE\\_DATA"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">QS</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/get.html" class="external-link">mget</a></span><span class="op">(</span><span class="va">score_data_names</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">COLPROT</span>, <span class="va">VISCODE</span>, <span class="va">QSTESTCD</span>, <span class="va">VISCODE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    QSGRPID <span class="op">=</span> <span class="va">COLPROT</span>,</span>
<span>    QSDTC <span class="op">=</span> <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/create_iso8601.html" class="external-link">create_iso8601</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">VISDATE</span><span class="op">)</span>, .format <span class="op">=</span> <span class="st">"y-m-d"</span><span class="op">)</span>,</span>
<span>    QSSTRESN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">QSSTRESC</span><span class="op">)</span>,</span>
<span>    QSORRES <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">QSSTRESN</span><span class="op">)</span>,</span>
<span>    QSSTAT <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">QSSTAT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"No"</span>, <span class="st">"NOT DONE"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"NOT DONE"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">set_dom_test</span><span class="op">(</span></span>
<span>    .data_list <span class="op">=</span> <span class="va">QS_TESTCD_LIST</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">QSTESTCD</span>, <span class="va">QSTEST</span>, <span class="va">QSCAT</span><span class="op">)</span>,</span>
<span>    merge_by <span class="op">=</span> <span class="st">"QSTESTCD"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_uniq.html">assert_uniq</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">COLPROT</span>, <span class="va">VISCODE</span>, <span class="va">QSTESTCD</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_usubjid</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_studyid_domain</span><span class="op">(</span>domain <span class="op">=</span> <span class="st">"QS"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_visit_attr</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_epoch</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_blfl_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    tgt_var <span class="op">=</span> <span class="st">"QSBLFL"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_study_day_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"QS"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/derive_seq.html" class="external-link">derive_seq</a></span><span class="op">(</span></span>
<span>    tgt_var <span class="op">=</span> <span class="st">"QSSEQ"</span>,</span>
<span>    rec_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"QSTESTCD"</span>, <span class="st">"COLPROT"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># # Update QSORRES for derived scores</span></span>
<span>  <span class="co"># mutate(QSORRES = case_when(is.na(QSDRVFL) ~ QSSTRESC)) %&gt;%</span></span>
<span>  <span class="fu">assign_vars_label</span><span class="op">(</span>data_dict <span class="op">=</span> <span class="va">qs_data_dic</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sec-rs">Clinical Classification (RS)<a class="anchor" aria-label="anchor" href="#sec-rs"></a>
</h3>
<p><a href="../reference/RS.html"><code>RS</code></a> dataset will
contains one record per instrument status per visit per subject.</p>
<details><summary>
Show <code>RS</code> Variables
</summary><div class="datatables html-widget html-fill-item" id="htmlwidget-10b3b7155e8045a1b2ad" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-10b3b7155e8045a1b2ad">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],["STUDYID","DOMAIN","USUBJID","RSSEQ","RSGRPID","RSTESTCD","RSTEST","RSCAT","RSORRES","RSSTRESC","RSBLFL","RSEVAL","VISITNUM","VISIT","EPOCH","RSDTC","RSDY"],["Study Identifier","Domain Abbrevation","Unique Subject Identifier","Sequence Number","Group ID","Assessment Short Name","Assessment Name","Category for Assessment","Result or Finding in Original Units","Character Result/Finding in Std Format","Baseline Flag","Evaluator","Visit Number","Visit Name","Epoch","Date/Time of Assessment","Study Day of Assessment"],[""," "," "," ","Study Protocol of Data Collection"," "," "," "," "," "," ","SITEID will be used instead of actual evaluator initial."," "," "," "," "," "]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>FLDNAME<\/th>\n      <th>LABEL<\/th>\n      <th>TEXT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"FLDNAME","targets":1},{"name":"LABEL","targets":2},{"name":"TEXT","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script></details><p>The <a href="../reference/RS.html"><code>RS</code></a> dataset will
contains clinical diagnostics summary of subject per study visit. The
clinical diagnostics status either Cognitive Normal (CN), Mild Cognitive
Impairment (MCI) or Dementia/Alzheimer’s (DEM/AD) of a subject was
determined by clinicians’ judgment.</p>
<div class="datatables html-widget html-fill-item" id="htmlwidget-4018eef1a407a0df6b52" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4018eef1a407a0df6b52">{"x":{"filter":"none","vertical":false,"data":[["1"],["DXSUM"],["DIAGNOSTICS"],["DX"],["Clinical Diagnostics Status"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SOURCE<\/th>\n      <th>RSCAT<\/th>\n      <th>RSTESTCD<\/th>\n      <th>RSTEST<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":false,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"SOURCE","targets":1},{"name":"RSCAT","targets":2},{"name":"RSTESTCD","targets":3},{"name":"RSTEST","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Clinical diagnostics status</span></span>
<span><span class="va">RS</span> <span class="op">&lt;-</span> <span class="va">DXSUM</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"DXSUM"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    DIAGNOSIS <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">DIAGNOSIS</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"Dementia"</span> <span class="op">~</span> <span class="st">"DEM"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">DIAGNOSIS</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    RSTESTCD <span class="op">=</span> <span class="st">"DX"</span>,</span>
<span>    RSORRES <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">DIAGNOSIS</span><span class="op">)</span>,</span>
<span>    RSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">DIAGNOSIS</span><span class="op">)</span>,</span>
<span>    RSEVAL <span class="op">=</span> <span class="va">SITEID</span>,</span>
<span>    RSDTC <span class="op">=</span> <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/create_iso8601.html" class="external-link">create_iso8601</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">EXAMDATE</span><span class="op">)</span>, .format <span class="op">=</span> <span class="st">"y-m-d"</span><span class="op">)</span>,</span>
<span>    RSGRPID <span class="op">=</span> <span class="va">COLPROT</span>,</span>
<span>    RSSTAT <span class="op">=</span> <span class="cn">NA_character_</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">COLPROT</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RS</span> <span class="op">&lt;-</span> <span class="va">RS</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">set_dom_test</span><span class="op">(</span></span>
<span>    .data_list <span class="op">=</span> <span class="va">RS_TESTCD_LIST</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">RSCAT</span>, <span class="va">RSTEST</span>, <span class="va">RSTESTCD</span><span class="op">)</span>,</span>
<span>    merge_by <span class="op">=</span> <span class="st">"RSTESTCD"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_usubjid</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_studyid_domain</span><span class="op">(</span>domain <span class="op">=</span> <span class="st">"RS"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_visit_attr</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_epoch</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_blfl_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    tgt_var <span class="op">=</span> <span class="st">"RSBLFL"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_study_day_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"RS"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/derive_seq.html" class="external-link">derive_seq</a></span><span class="op">(</span></span>
<span>    tgt_var <span class="op">=</span> <span class="st">"RSSEQ"</span>,</span>
<span>    rec_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"RSTESTCD"</span>, <span class="st">"COLPROT"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_vars_label</span><span class="op">(</span>data_dict <span class="op">=</span> <span class="va">rs_data_dic</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sec-nv">Nervous System Finding (NV)<a class="anchor" aria-label="anchor" href="#sec-nv"></a>
</h3>
<p><a href="../reference/NV.html"><code>NV</code></a> dataset contains
one record of physiological and morphological finding related to the
nervous system (including brain) per visit per subject.</p>
<details><summary>
Show <code>NV</code> Variables
</summary><div class="datatables html-widget html-fill-item" id="htmlwidget-5b1b2f4ad92281566982" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5b1b2f4ad92281566982">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22"],["STUDYID","DOMAIN","USUBJID","NVSEQ","NVGRPID","NVLNKID","NVTESTCD","NVTEST","NVCAT","NVSCAT","NVSTRESC","NVSTRESN","NVSTAT","NVREASND","NVMETHOD","NVBLFL","NVDRVFL","VISITNUM","VISIT","EPOCH","NVDTC","NVDY"],["Study Identifier","Domain Abbrevation","Unique Subject Identifier","Sequence Number","Group ID","Link ID","Short Name of Nervous System Test","Name of Nervous System Test","Category for Nervous System","Subcategory for Nervous System","Character Result/Finding in Std Format","Numeric Result/Finding in Standard Units","Completion Status","Reason Not Done","Method of Test or Examination","Baseline Flag","Derived Flag","Visit Number","Visit Name","Epoch","Date/Time of Collection","Study Day of Collection"],[""," "," "," ","Study Protocol of Data Collection"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>FLDNAME<\/th>\n      <th>LABEL<\/th>\n      <th>TEXT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"FLDNAME","targets":1},{"name":"LABEL","targets":2},{"name":"TEXT","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script></details><div class="datatables html-widget html-fill-item" id="htmlwidget-25c3e940e6859592f801" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-25c3e940e6859592f801">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49"],["AMYREAD","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEY_AMY_6MM","UCBERKELEYFDG_8mm","PIBPETSUVR","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAU_6MM","UCBERKELEY_TAUPVC_6MM","UCBERKELEY_TAUPVC_6MM","UCBERKELEY_TAUPVC_6MM","UCBERKELEY_TAUPVC_6MM","UCBERKELEY_TAUPVC_6MM","UCBERKELEY_TAUPVC_6MM","UCBERKELEY_TAUPVC_6MM","UCBERKELEY_TAUPVC_6MM","UCBERKELEY_TAUPVC_6MM"],["AMYSTAT","AMYSTAT","AMYSTAT","AMYSTAT","AMYSTAT","AMYSTAT","AMYSTATC","AMYSTATC","AMYSTATC","AMYSTATC","AMYSTATC","CENTILOIDS","CENTILOIDS","CENTILOIDS","CENTILOIDS","CENTILOIDS","SUVRCR","SUVRCR","SUVRCR","SUVRCR","SUVRCR","SUVRSM","SUVRSM","SUVRSM","SUVRSM","SUVRSM","FDGMROI","PIB","SUVRINFE","SUVRINFE","SUVRINFE","SUVRINFE","SUVRMETA","SUVRMETA","SUVRMETA","SUVRMETA","SUVRSC","SUVRSC","SUVRSC","SUVRSC","SUVRCWM","SUVRCWM","SUVRCWM","SUVRINFE","SUVRINFE","SUVRINFE","SUVRMETA","SUVRMETA","SUVRMETA"],["Amyloid Status - Clinician Judgment","Amyloid Status - Centiloids","Amyloid Status - Centiloids","Amyloid Status - Centiloids","Amyloid Status - Centiloids","Amyloid Status - Centiloids","Amyloid Status - Centiloids Composite Ref","Amyloid Status - Centiloids Composite Ref","Amyloid Status - Centiloids Composite Ref","Amyloid Status - Centiloids Composite Ref","Amyloid Status - Centiloids Composite Ref","Centiloids","Centiloids","Centiloids","Centiloids","Centiloids","Summary cortical SUVR Composite Ref","Summary cortical SUVR Composite Ref","Summary cortical SUVR Composite Ref","Summary cortical SUVR Composite Ref","Summary cortical SUVR Composite Ref","Summary cortical SUVR","Summary cortical SUVR","Summary cortical SUVR","Summary cortical SUVR","Summary cortical SUVR","FDG-PET metaROI 8mm","Average PIB PET SUVr","Standard Uptake Value - Inferior CGM","Standard Uptake Value - Inferior CGM","Standard Uptake Value - Inferior CGM","Standard Uptake Value - Inferior CGM","Weighted Standard Uptake Value","Weighted Standard Uptake Value","Weighted Standard Uptake Value","Weighted Standard Uptake Value","Standard Uptake Value - SCWM","Standard Uptake Value - SCWM","Standard Uptake Value - SCWM","Standard Uptake Value - SCWM","Standard Uptake Value - CWM","Standard Uptake Value - CWM","Standard Uptake Value - CWM","Standard Uptake Value - Inferior CGM","Standard Uptake Value - Inferior CGM","Standard Uptake Value - Inferior CGM","Weighted Standard Uptake Value","Weighted Standard Uptake Value","Weighted Standard Uptake Value"],["AMYLOID-STATUS","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","AMYLOIDPET","FDG-8MM","PIBPETSV","TAUPET","TAUPET","TAUPET","TAUPET","TAUPET","TAUPET","TAUPET","TAUPET","TAUPET","TAUPET","TAUPET","TAUPET","TAUPETPVC","TAUPETPVC","TAUPETPVC","TAUPETPVC","TAUPETPVC","TAUPETPVC","TAUPETPVC","TAUPETPVC","TAUPETPVC"],["AMYLOID-STATUS","FBB-6MM","FBB-8MM","FBP-6MM","FBP-8MM","NAV-6MM","FBB-6MM","FBB-8MM","FBP-6MM","FBP-8MM","NAV-6MM","FBB-6MM","FBB-8MM","FBP-6MM","FBP-8MM","NAV-6MM","FBB-6MM","FBB-8MM","FBP-6MM","FBP-8MM","NAV-6MM","FBB-6MM","FBB-8MM","FBP-6MM","FBP-8MM","NAV-6MM","FDG-8MM","PIBPETSV","FTP-6MM","FTP-8MM","MK6240-6MM","PI2620-6MM","FTP-6MM","FTP-8MM","MK6240-6MM","PI2620-6MM","FTP-6MM","FTP-8MM","MK6240-6MM","PI2620-6MM","FTP","MK6240","PI2620","FTP","MK6240","PI2620","FTP","MK6240","PI2620"],[" - ","FBB","FBB","FBP","FBP","NAV","FBB","FBB","FBP","FBP","NAV","FBB","FBB","FBP","FBP","NAV","FBB","FBB","FBP","FBP","NAV","FBB","FBB","FBP","FBP","NAV","FDG"," - ","FTP","FTP","MK6240","PI2620","FTP","FTP","MK6240","PI2620","FTP","FTP","MK6240","PI2620","FTP","MK6240","PI2620","FTP","MK6240","PI2620","FTP","MK6240","PI2620"],[" - ","6MM","8MM","6MM","8MM","6MM","6MM","8MM","6MM","8MM","6MM","6MM","8MM","6MM","8MM","6MM","6MM","8MM","6MM","8MM","6MM","6MM","8MM","6MM","8MM","6MM","8MM"," - ","6MM","8MM","6MM","6MM","6MM","8MM","6MM","6MM","6MM","8MM","6MM","6MM"," - "," - "," - "," - "," - "," - "," - "," - "," - "],["Avaiable for ADNI4 phase.","Amyloid status determined based on centiloids that normalized bywhole cerebellum. UC Berkeley - Amyloid PET 6mm Res analysis.","Amyloid status determined based on centiloids that normalized bywhole cerebellum. UC Berkeley - Amyloid PET 6mm Res analysis.","Amyloid status determined based on centiloids that normalized bywhole cerebellum. UC Berkeley - Amyloid PET 6mm Res analysis.","Amyloid status determined based on centiloids that normalized bywhole cerebellum. UC Berkeley - Amyloid PET 6mm Res analysis.","Amyloid status determined based on centiloids that normalized bywhole cerebellum. UC Berkeley - Amyloid PET 6mm Res analysis.","Amyloid status determined based on centiloids that normalized by composite reference region. UC Berkeley - Amyloid PET 6mm Res analysis.","Amyloid status determined based on centiloids that normalized by composite reference region. UC Berkeley - Amyloid PET 6mm Res analysis.","Amyloid status determined based on centiloids that normalized by composite reference region. UC Berkeley - Amyloid PET 6mm Res analysis.","Amyloid status determined based on centiloids that normalized by composite reference region. UC Berkeley - Amyloid PET 6mm Res analysis.","Amyloid status determined based on centiloids that normalized by composite reference region. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by whole cerebellum and transformed to Centiloids. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by whole cerebellum and transformed to Centiloids. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by whole cerebellum and transformed to Centiloids. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by whole cerebellum and transformed to Centiloids. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by whole cerebellum and transformed to Centiloids. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by composite reference region. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by composite reference region. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by composite reference region. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by composite reference region. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by composite reference region. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by whole cerebellum. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by whole cerebellum. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by whole cerebellum. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by whole cerebellum. UC Berkeley - Amyloid PET 6mm Res analysis.","Summary cortical SUVR normalized by whole cerebellum. UC Berkeley - Amyloid PET 6mm Res analysis.","UC Berkeley - FDG analysis: 2023-02-17. Available for ADNI1-3.","U Pitt PIB PET Analysis. Only available for ADNI1.","Reference region - mean SUVR of inferior cerebellar grey matter. UC Berkeley - Tau PET 6mm Res analysis.","Reference region - mean SUVR of inferior cerebellar grey matter. UC Berkeley - Tau PET 6mm Res analysis.","Reference region - mean SUVR of inferior cerebellar grey matter. UC Berkeley - Tau PET 6mm Res analysis.","Reference region - mean SUVR of inferior cerebellar grey matter. UC Berkeley - Tau PET 6mm Res analysis.","Weighted mean SUVR of Jack et al temporal meta-ROI. UC Berkeley - Tau PET 6mm Res analysis.","Weighted mean SUVR of Jack et al temporal meta-ROI. UC Berkeley - Tau PET 6mm Res analysis.","Weighted mean SUVR of Jack et al temporal meta-ROI. UC Berkeley - Tau PET 6mm Res analysis.","Weighted mean SUVR of Jack et al temporal meta-ROI. UC Berkeley - Tau PET 6mm Res analysis.","Reference region - mean SUVR of subcortical white matter erodedaway from cortex. UC Berkeley - Tau PET 6mm Res analysis.","Reference region - mean SUVR of subcortical white matter erodedaway from cortex. UC Berkeley - Tau PET 6mm Res analysis.","Reference region - mean SUVR of subcortical white matter erodedaway from cortex. UC Berkeley - Tau PET 6mm Res analysis.","Reference region - mean SUVR of subcortical white matter erodedaway from cortex. UC Berkeley - Tau PET 6mm Res analysis.","Bilateral cerebral white matter.UC Berkeley - Tau PET PVC 6mm Res analysis.","Bilateral cerebral white matter.UC Berkeley - Tau PET PVC 6mm Res analysis.","Bilateral cerebral white matter.UC Berkeley - Tau PET PVC 6mm Res analysis.","Reference region - mean SUVR of inferior cerebellar grey matter. UC Berkeley - Tau PET PVC 6mm Res analysis.","Reference region - mean SUVR of inferior cerebellar grey matter. UC Berkeley - Tau PET PVC 6mm Res analysis.","Reference region - mean SUVR of inferior cerebellar grey matter. UC Berkeley - Tau PET PVC 6mm Res analysis.","Weighted mean SUVR of Jack et al temporal meta-ROI. UC Berkeley - Tau PET PVC 6mm Res analysis.","Weighted mean SUVR of Jack et al temporal meta-ROI. UC Berkeley - Tau PET PVC 6mm Res analysis.","Weighted mean SUVR of Jack et al temporal meta-ROI. UC Berkeley - Tau PET PVC 6mm Res analysis."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SOURCE<\/th>\n      <th>NVTESTCD<\/th>\n      <th>NVTEST<\/th>\n      <th>NVCAT<\/th>\n      <th>NVSCAT<\/th>\n      <th>TRACER TYPE<\/th>\n      <th>IMAGE RESOLUTION<\/th>\n      <th>DESCRIPTION<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"filter":"top","columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"SOURCE","targets":1},{"name":"NVTESTCD","targets":2},{"name":"NVTEST","targets":3},{"name":"NVCAT","targets":4},{"name":"NVSCAT","targets":5},{"name":"TRACER TYPE","targets":6},{"name":"IMAGE RESOLUTION","targets":7},{"name":"DESCRIPTION","targets":8}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'font-size':'10px'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># FDG-PET Analysis Results Data ----</span></span>
<span><span class="va">FDG_PET_DATA</span> <span class="op">&lt;-</span> <span class="va">UCBERKELEYFDG_8mm</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Based on method manual document</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ORIGPROT</span>, <span class="va">RID</span>, <span class="va">VISCODE</span>, <span class="va">VISCODE2</span>, <span class="va">EXAMDATE</span>, <span class="va">ROINAME</span>, <span class="va">MEAN</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">VISCODE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_uniq.html">assert_uniq</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">VISCODE</span>, <span class="va">VISCODE2</span>, <span class="va">ROINAME</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">ORIGPROT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="../reference/adni_phase.html">adni_phase</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>    id_cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    names_from <span class="op">=</span> <span class="st">"ROINAME"</span>,</span>
<span>    values_from <span class="op">=</span> <span class="st">"MEAN"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>FDGMROI <span class="op">=</span> <span class="va">MetaROI</span> <span class="op">/</span> <span class="va">Top50PonsVermis</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">MetaROI</span>, <span class="op">-</span><span class="va">Top50PonsVermis</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/check_duplicate_records.html">check_duplicate_records</a></span><span class="op">(</span>col_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RID"</span>, <span class="st">"EXAMDATE"</span>, <span class="st">"VISCODE"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    NVMETHOD <span class="op">=</span> <span class="st">"FDG PET"</span>,</span>
<span>    NVTESTCD <span class="op">=</span> <span class="st">"FDGMROI"</span>,</span>
<span>    NVSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">FDGMROI</span><span class="op">)</span>,</span>
<span>    NVSTRESN <span class="op">=</span> <span class="va">FDGMROI</span>,</span>
<span>    NVDRVFL <span class="op">=</span> <span class="st">"Yes"</span>,</span>
<span>    NVDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">EXAMDATE</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"UCBERKELEYFDG_8mm"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Mapping phase-specific visit code based opn registry</span></span>
<span><span class="va">FDG_PET_DATA</span> <span class="op">&lt;-</span> <span class="va">FDG_PET_DATA</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Trying to map visit code from registry</span></span>
<span>  <span class="fu">use_dtplyr</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="va">REGISTRY</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>EXAMDATE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">EXAMDATE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">VISCODE</span>, <span class="va">VISCODE2</span>,</span>
<span>        REGISTRY.EXAMDATE <span class="op">=</span> <span class="va">EXAMDATE</span></span>
<span>      <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">REGISTRY.EXAMDATE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">RID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">FDG_PET_DATA</span><span class="op">$</span><span class="va">RID</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="../reference/check_duplicate_records.html">check_duplicate_records</a></span><span class="op">(</span></span>
<span>        col_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RID"</span>, <span class="st">"ORIGPROT"</span>, <span class="st">"VISCODE"</span>, <span class="st">"REGISTRY.EXAMDATE"</span><span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RID"</span>, <span class="st">"ORIGPROT"</span>, <span class="st">"VISCODE"</span>, <span class="st">"VISCODE2"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>COLPROT <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">COLPROT</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">VISCODE</span> <span class="op">==</span> <span class="va">VISCODE2</span> <span class="op">~</span> <span class="va">ORIGPROT</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">COLPROT</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">VISCODE</span> <span class="op">!=</span> <span class="va">VISCODE2</span> <span class="op">&amp;</span> <span class="va">VISCODE2</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"bl"</span> <span class="op">~</span> <span class="va">ORIGPROT</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">COLPROT</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">FDG_PET_DATA</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">COLPROT</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_uniq.html">assert_uniq</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">COLPROT</span>, <span class="va">VISCODE</span>, <span class="va">NVTESTCD</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># PIB PET Analysis Results Data -----</span></span>
<span><span class="co"># Only for ADNI1 phase</span></span>
<span><span class="va">PIB_PET_DATA</span> <span class="op">&lt;-</span> <span class="va">PIBPETSUVR</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">ORIGPROT</span> <span class="op">==</span> <span class="fu"><a href="../reference/adni_phase.html">adni_phase</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Based on previously generated dataset</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>PIB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums-methods.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ACG"</span>, <span class="st">"FRC"</span>, <span class="st">"PAR"</span>, <span class="st">"PRC"</span><span class="op">)</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">ORIGPROT</span>, <span class="va">VISCODE</span>, <span class="va">EXAMDATE</span>, NVSTRESN <span class="op">=</span> <span class="va">PIB</span>, <span class="va">LONIUID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/check_duplicate_records.html">check_duplicate_records</a></span><span class="op">(</span>col_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RID"</span>, <span class="st">"EXAMDATE"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    NVMETHOD <span class="op">=</span> <span class="st">"PET SCAN"</span>,</span>
<span>    NVTESTCD <span class="op">=</span> <span class="st">"PIB"</span>,</span>
<span>    NVSTRESU <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    NVSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">NVSTRESN</span><span class="op">)</span>,</span>
<span>    NVDRVFL <span class="op">=</span> <span class="st">"Yes"</span>,</span>
<span>    NVDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">EXAMDATE</span><span class="op">)</span>,</span>
<span>    NVLNKID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">LONIUID</span><span class="op">)</span>,</span>
<span>    COLPROT <span class="op">=</span> <span class="fu"><a href="../reference/adni_phase.html">adni_phase</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">VISCODE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_uniq.html">assert_uniq</a></span><span class="op">(</span><span class="va">RID</span>, <span class="va">VISCODE</span>, <span class="va">NVTESTCD</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"PIBPETSUVR"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Amyloid status ----</span></span>
<span><span class="va">amystatus_lvls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Non Elevated"</span>, <span class="st">"Elevated"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">AMYREAD_DATA</span> <span class="op">&lt;-</span> <span class="va">AMYREAD</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">COLPROT</span> <span class="op">==</span> <span class="fu"><a href="../reference/adni_phase.html">adni_phase</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Based on clinicians' decision</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>AMYSTAT <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">CONSENS</span>, <span class="st">"No, visual read and quantification"</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">CONGRU</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">CONSENS</span>, <span class="st">"Yes, this scan should be reviewed"</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">CONSENSRES</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    AMYSTAT <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html" class="external-link">str_remove</a></span><span class="op">(</span><span class="va">AMYSTAT</span>, <span class="st">" scan"</span><span class="op">)</span>,</span>
<span>    TRACERTYPE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">TRACERTYPE</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">AMYSTAT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">amystatus_lvls</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"AMYREAD"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="va">AMYSTAT</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"NVTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"NVORRES"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    NVDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">SCANDATE</span><span class="op">)</span>,</span>
<span>    NVSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">NVORRES</span><span class="op">)</span>,</span>
<span>    NVMETHOD <span class="op">=</span> <span class="st">"PET"</span>,</span>
<span>    NVDRVFL <span class="op">=</span> <span class="st">"Yes"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Common cols in PET data</span></span>
<span><span class="va">pet_data_common_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"ORIGPROT"</span>, <span class="st">"LONIUID"</span>, <span class="st">"RID"</span>, <span class="st">"VISCODE"</span>, <span class="st">"SCANDATE"</span>, <span class="st">"PROCESSDATE"</span>,</span>
<span>  <span class="st">"IMAGE_RESOLUTION"</span>, <span class="st">"TRACER"</span>, <span class="st">"qc_flag"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Amyloid PET Data ----</span></span>
<span><span class="va">amypet_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  AMYSTAT <span class="op">=</span> <span class="st">"AMYLOID_STATUS"</span>,</span>
<span>  AMYSTATC <span class="op">=</span> <span class="st">"AMYLOID_STATUS_COMPOSITE_REF"</span>,</span>
<span>  SUVRSM <span class="op">=</span> <span class="st">"SUMMARY_SUVR"</span>,</span>
<span>  SUVRCR <span class="op">=</span> <span class="st">"COMPOSITE_REF_SUVR"</span>,</span>
<span>  CENTILOIDS <span class="op">=</span> <span class="st">"CENTILOIDS"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">AMYPET_DATA</span> <span class="op">&lt;-</span> <span class="va">UCBERKELEY_AMY_6MM</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">amypet_cols</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="op">~</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">.x</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="va">amystatus_lvls</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>      <span class="va">.x</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="va">amystatus_lvls</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">rename_with_list</span><span class="op">(</span><span class="va">.</span>, name_char <span class="op">=</span> <span class="va">amypet_cols</span>, by_name <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">pet_data_common_cols</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">amypet_cols</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">amypet_cols</span><span class="op">)</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"UCBERKELEY_AMY_6MM"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">amypet_cols</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"NVTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"NVSTRESC"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Tau PET Data -----</span></span>
<span><span class="va">taupet_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  SUVRINFE <span class="op">=</span> <span class="st">"INFERIORCEREBELLUM_SUVR"</span>,</span>
<span>  SUVRSC <span class="op">=</span> <span class="st">"ERODED_SUBCORTICALWM_SUVR"</span>,</span>
<span>  SUVRMETA <span class="op">=</span> <span class="st">"META_TEMPORAL_SUVR"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">TAUPET_DATA</span> <span class="op">&lt;-</span> <span class="va">UCBERKELEY_TAU_6MM</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># filter(!is.na(VISCODE)) %&gt;%</span></span>
<span>  <span class="fu">rename_with_list</span><span class="op">(</span><span class="va">.</span>, name_char <span class="op">=</span> <span class="va">taupet_cols</span>, by_name <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">pet_data_common_cols</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">taupet_cols</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">taupet_cols</span><span class="op">)</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"UCBERKELEY_TAU_6MM"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">taupet_cols</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"NVTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"NVSTRESC"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Tau PET - PVC Data ----</span></span>
<span><span class="va">taupet_pvc_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  SUVRINFE <span class="op">=</span> <span class="st">"INFERIORCEREBELLUM_SUVR"</span>,</span>
<span>  SUVRCWM <span class="op">=</span> <span class="st">"CEREBRAL_WHITE_MATTER_SUVR"</span>,</span>
<span>  SUVRMETA <span class="op">=</span> <span class="st">"META_TEMPORAL_SUVR"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">TAUPET_PVC_DATA</span> <span class="op">&lt;-</span> <span class="va">UCBERKELEY_TAUPVC_6MM</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    IMAGE_RESOLUTION <span class="op">=</span> <span class="st">"None"</span>,</span>
<span>    qc_flag <span class="op">=</span> <span class="cn">NA_real_</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">rename_with_list</span><span class="op">(</span><span class="va">.</span>, name_char <span class="op">=</span> <span class="va">taupet_pvc_cols</span>, by_name <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">pet_data_common_cols</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">taupet_pvc_cols</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">taupet_pvc_cols</span><span class="op">)</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"UCBERKELEY_TAUPVC_6MM"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">taupet_pvc_cols</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"NVTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"NVSTRESC"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># PET dataset</span></span>
<span><span class="va">PET_join_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ORIGPROT"</span>, <span class="st">"RID"</span>, <span class="st">"SCANDATE"</span><span class="op">)</span>, <span class="st">"_MPL"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">PET_join_var</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html" class="external-link">str_remove_all</a></span><span class="op">(</span><span class="va">PET_join_var</span>, <span class="st">"\\_MPL"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">PET_DATA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">AMYPET_DATA</span>, <span class="va">TAUPET_DATA</span>, <span class="va">TAUPET_PVC_DATA</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">VISCODE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Fuzzy join for actual study phase and visits</span></span>
<span>  <span class="fu">left_fuzzy_join</span><span class="op">(</span></span>
<span>    data1 <span class="op">=</span> <span class="va">.</span>,</span>
<span>    data2 <span class="op">=</span> <span class="va">IMAGING_MAPPING_LIST</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">RID</span>, <span class="va">VISCODE</span>, <span class="va">SCANDATE</span>, <span class="va">SOURCE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu">rename_with_list</span><span class="op">(</span><span class="va">.</span>, name_char <span class="op">=</span> <span class="va">PET_join_var</span>, by_name <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    join_by <span class="op">=</span> <span class="va">PET_join_var</span>,</span>
<span>    check_cols <span class="op">=</span> <span class="st">"COLPROT"</span>,</span>
<span>    main_cols <span class="op">=</span> <span class="st">"SCANDATE"</span>,</span>
<span>    date_col <span class="op">=</span> <span class="st">"SCANDATE"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    LONIUID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">LONIUID</span><span class="op">)</span>,</span>
<span>    NVMETHOD <span class="op">=</span> <span class="st">"PET"</span>,</span>
<span>    NVDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">SCANDATE</span><span class="op">)</span>,</span>
<span>    NVLNKID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">LONIUID</span><span class="op">)</span>,</span>
<span>    NVSTRESN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">NVSTRESC</span><span class="op">)</span>,</span>
<span>    NVSTAT <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">qc_flag</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="op">-</span><span class="fl">2</span><span class="op">:</span><span class="fl">0</span> <span class="op">~</span> <span class="st">"NOT DONE"</span><span class="op">)</span>,</span>
<span>    NVREASND <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">qc_flag</span> <span class="op">==</span> <span class="op">-</span><span class="fl">2</span> <span class="op">~</span> <span class="st">"CANNOT BE PROCESSED"</span>,</span>
<span>      <span class="va">qc_flag</span> <span class="op">==</span> <span class="op">-</span><span class="fl">1</span> <span class="op">~</span> <span class="st">"NOT ASSESSED"</span>,</span>
<span>      <span class="va">qc_flag</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="st">"FAIL"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">COLPROT</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">NV</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">FDG_PET_DATA</span>, <span class="va">PIB_PET_DATA</span>, <span class="va">AMYREAD_DATA</span>, <span class="va">PET_DATA</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    NVGRPID <span class="op">=</span> <span class="va">COLPROT</span>,</span>
<span>    NVDTC <span class="op">=</span> <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/create_iso8601.html" class="external-link">create_iso8601</a></span><span class="op">(</span><span class="va">NVDTC</span>, .format <span class="op">=</span> <span class="st">"y-m-d"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="va">NV_TESTCD_LIST</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">NVCAT</span>, <span class="va">NVSCAT</span>, <span class="va">NVTESTCD</span>, <span class="va">NVTEST</span>, <span class="va">SOURCE</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NVTESTCD"</span> <span class="op">=</span> <span class="st">"NVTESTCD"</span>, <span class="st">"raw_source"</span> <span class="op">=</span> <span class="st">"SOURCE"</span><span class="op">)</span>,</span>
<span>    relationship <span class="op">=</span> <span class="st">"many-to-many"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">NVTEST</span>, <span class="va">NVSCAT</span>, <span class="va">NVCAT</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_usubjid</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_studyid_domain</span><span class="op">(</span>domain <span class="op">=</span> <span class="st">"NV"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_visit_attr</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_epoch</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_blfl_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    tgt_var <span class="op">=</span> <span class="st">"NVBLFL"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_study_day_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"NV"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/derive_seq.html" class="external-link">derive_seq</a></span><span class="op">(</span></span>
<span>    tgt_var <span class="op">=</span> <span class="st">"NVSEQ"</span>,</span>
<span>    rec_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"NVCAT"</span>, <span class="st">"NVSCAT"</span>, <span class="st">"NVTESTCD"</span>, <span class="st">"NVGRPID"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_vars_label</span><span class="op">(</span><span class="va">nv_data_dic</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sec-lb">Laboratory Test Results (LB)<a class="anchor" aria-label="anchor" href="#sec-lb"></a>
</h3>
<p><a href="../reference/LB.html"><code>LB</code></a> dataset contains
laboratory test data such as hematology, clinical chemistry and
urinalysis per visit per subject. Additionally, the <a href="../reference/LB.html"><code>LB</code></a> dataset contains blood
plasma biomarkers results.</p>
<details><summary>
Show <code>LB</code> Variables
</summary><div class="datatables html-widget html-fill-item" id="htmlwidget-3f27c09be0c60bb52829" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3f27c09be0c60bb52829">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25"],["STUDYID","DOMAIN","USUBJID","ORIGPROT","LBGRPID","LBSEQ","LBTESTCD","LBTEST","LBORRES","LBORRESU","LBSTRESC","LBSTRESN","LBSTRESU","LBSTAT","LBREASND","LBSPEC","LBSPCCND","LBNAM","LBBLFL","VISITNUM","VISIT","VISCODE","EPOCH","LBDTC","LBDY"],["Study Identifier","Domain Abbrevation","Unique Subject Identifier","Original Study Protocol","Group ID","Sequence Number","Lab Test or Examination Short Name","Lab Test or Examination Name","Result or Finding in Original Units","Original Units","Character Result/Finding in Std Format","Numeric Result/Finding in Standard Units","Standard Units","Completion Status","Reason Test Not Done","Specimen Type","Specimen Condition","Vendor Name","Baseline Flag","Visit Number","Visit Name","Visit Code","Epoch","Date/Time of Specimen Collection","Study Day of Specimen Collection"],[""," "," "," ","Study Protocol of Data Collection"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>FLDNAME<\/th>\n      <th>LABEL<\/th>\n      <th>TEXT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"FLDNAME","targets":1},{"name":"LABEL","targets":2},{"name":"TEXT","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script></details><p>The <a href="../reference/LB.html"><code>LB</code></a> dataset
contains the following blood plasma biomarker results in addition to the
safety laboratory data.</p>
<p><em>NOTE: </em></p>
<ul>
<li><p>As a future work, to include the sample batch of
<code>UPENNBIOMK_MASTER</code> and
<code>UPENNBIOMK_ROCHE_ELECSYS</code>.</p></li>
<li><p>Also to harmonized the safety laboratory data across different
study phase.</p></li>
</ul>
<div class="datatables html-widget html-fill-item" id="htmlwidget-416566eb193bf50d04e6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-416566eb193bf50d04e6">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36"],["C2N_PRECIVITYAD2_PLASMA","C2N_PRECIVITYAD2_PLASMA","C2N_PRECIVITYAD2_PLASMA","C2N_PRECIVITYAD2_PLASMA","C2N_PRECIVITYAD2_PLASMA","C2N_PRECIVITYAD2_PLASMA","C2N_PRECIVITYAD2_PLASMA","UPENNBIOMK_MASTER","UPENNBIOMK_MASTER","UPENNBIOMK_MASTER","UPENNBIOMK_MASTER","UPENNBIOMK_MASTER","UPENNBIOMK_MASTER","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENNBIOMK_ROCHE_ELECSYS","UPENN_PLASMA_FUJIREBIO_QUANTERIX","UPENN_PLASMA_FUJIREBIO_QUANTERIX","UPENN_PLASMA_FUJIREBIO_QUANTERIX","UPENN_PLASMA_FUJIREBIO_QUANTERIX","UPENN_PLASMA_FUJIREBIO_QUANTERIX","UPENN_PLASMA_FUJIREBIO_QUANTERIX","UPENN_PLASMA_FUJIREBIO_QUANTERIX"],["C2N","C2N","C2N","C2N","C2N","C2N","C2N","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN","UPENN"],["C2N Assay","C2N Assay","C2N Assay","C2N Assay","C2N Assay","C2N Assay","C2N Assay","INNO-BIA AlzBio3","INNO-BIA AlzBio3","INNO-BIA AlzBio3","INNO-BIA AlzBio3","INNO-BIA AlzBio3","INNO-BIA AlzBio3","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","Roche Elecsys","FUJIREBIO LUMIPULSE","FUJIREBIO LUMIPULSE","FUJIREBIO LUMIPULSE","FUJIREBIO LUMIPULSE","FUJIREBIO LUMIPULSE","SIMOA QUANTERIX HD-X","SIMOA QUANTERIX HD-X"],["AB40","AB42","AB42AB40","APS2","NPT217","PT217","PTNPT217","ABETA42R","ABETA42S","PTAU181R","PTAU181S","TPROTR","TPROTS","ABETA40","ABETA40","ABETA40","ABETA40","ABETA42","ABETA42","ABETA42","ABETA42","PTAU181","PTAU181","PTAU181","PTAU181","TPROT","TPROT","TPROT","TPROT","AB40","AB42","AB42AB40","PT217","PT217AB42","GFAP","NFL"],["Amyloid Beta 1-40","Amyloid Beta 1-42","Amyloid Beta 1-42/Amyloid Beta 1-40","Amyloid Probability Score 2","Non-Phosphorylated Tau217 Protein","Phosphorylated Tau217 Protein","Percentage of Phosphorylated Tau217 Protein","Amyloid Beta 1-42 - Raw","Amyloid Beta 1-42 - Scaled","Phosphorylated Tau181 Protein - Raw","Phosphorylated Tau181 Protein - Scaled","Total Tau Protein - Raw","Total Tau Protein - Scaled","Amyloid Beta 1-40","Amyloid Beta 1-40","Amyloid Beta 1-40","Amyloid Beta 1-40","Amyloid Beta 1-42","Amyloid Beta 1-42","Amyloid Beta 1-42","Amyloid Beta 1-42","Phosphorylated Tau181 Protein","Phosphorylated Tau181 Protein","Phosphorylated Tau181 Protein","Phosphorylated Tau181 Protein","Total Tau Protein","Total Tau Protein","Total Tau Protein","Total Tau Protein","Amyloid Beta 1-42","Amyloid Beta 1-40","Amyloid Beta 1-42/Amyloid Beta 1-40","Phosphorylated Tau217 Protein","P-Tau217/Abeta42 Ratio","Glial Fibrillary Acidic Protein","Neurofilament Light Chain Protein"],["pg/mL","pg/mL","","","pg/mL","pg/mL","","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL"],["pg/mL","pg/mL","","","pg/mL","pg/mL","","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL","pg/mL"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SOURCE<\/th>\n      <th>LBNAM<\/th>\n      <th>LBMETHOD<\/th>\n      <th>LBTESTCD<\/th>\n      <th>LBTEST<\/th>\n      <th>LBORRESU<\/th>\n      <th>LBSTRESU<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"filter":"top","columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"SOURCE","targets":1},{"name":"LBNAM","targets":2},{"name":"LBMETHOD","targets":3},{"name":"LBTESTCD","targets":4},{"name":"LBTEST","targets":5},{"name":"LBORRESU","targets":6},{"name":"LBSTRESU","targets":7}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">common_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"ORIGPROT"</span>, <span class="st">"COLPROT"</span>, <span class="st">"ID"</span>, <span class="st">"PTID"</span>, <span class="st">"RID"</span>, <span class="st">"SITEID"</span>, <span class="st">"VISCODE"</span>, <span class="st">"VISCODE2"</span>,</span>
<span>  <span class="st">"USERDATE"</span>, <span class="st">"USERDATE2"</span>, <span class="st">"RECNO"</span>, <span class="st">"ACCNO"</span>, <span class="st">"COVVIS"</span>, <span class="st">"EXAMDATE"</span>, <span class="st">"update_stamp"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">lab_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"ORIGPROT"</span>, <span class="st">"COLPROT"</span>, <span class="st">"RID"</span>, <span class="st">"SITEID"</span>,</span>
<span>  <span class="st">"VISCODE"</span>, <span class="st">"VISCODE2"</span>, <span class="st">"EXAMDATE"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Lab data for ANDI1-GO-2 phases</span></span>
<span><span class="va">ADNI1GO2_CLINICAL_LABDATA</span> <span class="op">&lt;-</span> <span class="va">LABDATA</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"LABDATA"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">common_cols</span>, <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/oak_id_vars.html" class="external-link">oak_id_vars</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">common_cols</span>, <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/oak_id_vars.html" class="external-link">oak_id_vars</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"LBTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"LBORRES"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">common_cols</span><span class="op">[</span><span class="op">!</span><span class="va">common_cols</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">lab_cols</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">LBORRES</span> <span class="op">!=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>LBDTC <span class="op">=</span> <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/create_iso8601.html" class="external-link">create_iso8601</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">EXAMDATE</span><span class="op">)</span>, .format <span class="op">=</span> <span class="st">"y-m-d"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">adjust_lab_visitcode</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Lab data for ANDI3-4 phases</span></span>
<span><span class="va">ADNI34_CLINICAL_LABDATA</span> <span class="op">&lt;-</span> <span class="va">URMC_LABDATA</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"URMC_LABDATA"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    LBNAM <span class="op">=</span> <span class="st">"URMC"</span>,</span>
<span>    TestID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">TestName</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"Sodium"</span>, <span class="st">"NA"</span>, <span class="va">TestID</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"Time"</span><span class="op">)</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create LBDTC</span></span>
<span><span class="va">ADNI34_CLINICAL_LABDATA</span> <span class="op">&lt;-</span> <span class="fu">sdtm.oak</span><span class="fu">::</span><span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/assign_datetime.html" class="external-link">assign_datetime</a></span><span class="op">(</span></span>
<span>  tgt_dat <span class="op">=</span> <span class="va">ADNI34_CLINICAL_LABDATA</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">SampleDate</span>, <span class="op">-</span><span class="va">SampleTime</span><span class="op">)</span>,</span>
<span>  raw_dat <span class="op">=</span> <span class="va">ADNI34_CLINICAL_LABDATA</span>,</span>
<span>  tgt_var <span class="op">=</span> <span class="st">"LBDTC"</span>,</span>
<span>  raw_var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SampleDate"</span>, <span class="st">"SampleTime"</span><span class="op">)</span>,</span>
<span>  raw_fmt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y-m-d"</span>, <span class="st">"H:M:S"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ADNI34_CLINICAL_LABDATA</span> <span class="op">&lt;-</span> <span class="va">ADNI34_CLINICAL_LABDATA</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Adjust for lab test that were considered as 'not completed/done'</span></span>
<span>  <span class="fu">adjust_lab_status</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">adjust_lab_visitcode</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    LBGRPID <span class="op">=</span> <span class="va">COLPROT</span>,</span>
<span>    LBTESTCD <span class="op">=</span> <span class="va">TestID</span>,</span>
<span>    LBTEST <span class="op">=</span> <span class="va">TestName</span>,</span>
<span>    LBORRES <span class="op">=</span> <span class="va">ResultValueConv_translated</span>,</span>
<span>    LBORRESU <span class="op">=</span> <span class="va">UnitsConv</span>,</span>
<span>    LBORNRLO <span class="op">=</span> <span class="va">LowerRangeConv</span>,</span>
<span>    LBORNRHI <span class="op">=</span> <span class="va">UpperRangeConv</span>,</span>
<span>    LBSTRESC <span class="op">=</span> <span class="va">ResultValueSI_translated</span>,</span>
<span>    LBSTRESN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">ResultValueSI_translated</span><span class="op">)</span>,</span>
<span>    LBSTRESU <span class="op">=</span> <span class="va">UnitsSI</span>,</span>
<span>    LBSTNRLO <span class="op">=</span> <span class="va">LowerRangeSI</span>,</span>
<span>    LBSTNRHI <span class="op">=</span> <span class="va">UpperRangeSI</span>,</span>
<span>    LBFAST <span class="op">=</span> <span class="va">Fasting</span>,</span>
<span>    LBSPCCND <span class="op">=</span> <span class="va">Comments</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># C2N Blood Plasma Result ----</span></span>
<span><span class="va">c2n_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"pT217_C2N"</span>, <span class="st">"npT217_C2N"</span>, <span class="st">"AB42_C2N"</span>, <span class="st">"AB40_C2N"</span>, <span class="st">"AB42_AB40_C2N"</span>,</span>
<span>  <span class="st">"pT217_npT217_C2N"</span>, <span class="st">"APS2_C2N"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">c2n_cols</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"PT217"</span>, <span class="st">"NPT217"</span>, <span class="st">"AB42"</span>, <span class="st">"AB40"</span>,</span>
<span>  <span class="st">"AB42AB40"</span>, <span class="st">"PTNPT217"</span>, <span class="st">"APS2"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">C2N_PLASMA_DATA</span> <span class="op">&lt;-</span> <span class="va">C2N_PRECIVITYAD2_PLASMA</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"C2N_PRECIVITYAD2_PLASMA"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">c2n_cols</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/oak_id_vars.html" class="external-link">oak_id_vars</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">c2n_cols</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">RID</span>, <span class="va">VISCODE</span>,</span>
<span>    <span class="va">EXAMDATE</span>,</span>
<span>    LBANTREG <span class="op">=</span> <span class="va">Primary</span>, LBSPCCND <span class="op">=</span> <span class="va">Comments</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">c2n_cols</span><span class="op">)</span><span class="op">)</span>, <span class="va">as.character</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">c2n_cols</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"LBTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"LBORRES"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    LBSPEC <span class="op">=</span> <span class="st">"PLASMA"</span>,</span>
<span>    LBDTC <span class="op">=</span> <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/create_iso8601.html" class="external-link">create_iso8601</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">EXAMDATE</span><span class="op">)</span>, .format <span class="op">=</span> <span class="st">"y-m-d"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="fu">get_biomarker_details</span><span class="op">(</span>assay <span class="op">=</span> <span class="st">"C2N"</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="st">"LBTESTCD"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">LBTEST</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">LB</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="va">C2N_PLASMA_DATA</span>, <span class="va">ADNI1GO2_CLINICAL_LABDATA</span>,</span>
<span>  <span class="va">UPENNBIOMK_ROCHE_DATA</span>, <span class="va">UPENNBIOMK_ALZBIO3_DATA</span>,</span>
<span>  <span class="va">UPENN_PLASMA_FQ_DATA</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    LBGRPID <span class="op">=</span> <span class="va">COLPROT</span>,</span>
<span>    LBSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">LBORRES</span><span class="op">)</span>,</span>
<span>    LBSTRESN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">LBORRES</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">ADNI34_CLINICAL_LABDATA</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">LBGRPID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Future work to add lab result category</span></span>
<span>  <span class="co"># set_dom_test(</span></span>
<span>  <span class="co">#    .data_list = LB_TESTCD_LIST %&gt;%</span></span>
<span>  <span class="co">#     select(LBTESTCD, LBTEST, LBORRESU, LBSTRESU),</span></span>
<span>  <span class="co">#   merge_by = "LBTESTCD"</span></span>
<span>  <span class="co"># ) %&gt;%</span></span>
<span>  <span class="fu">derive_usubjid</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_studyid_domain</span><span class="op">(</span>domain <span class="op">=</span> <span class="st">"LB"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_visit_attr</span><span class="op">(</span>check_missing_visnum <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_epoch</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_blfl_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    tgt_var <span class="op">=</span> <span class="st">"LBBLFL"</span>,</span>
<span>    .strict <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_study_day_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"LB"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/derive_seq.html" class="external-link">derive_seq</a></span><span class="op">(</span></span>
<span>    tgt_var <span class="op">=</span> <span class="st">"LBSEQ"</span>,</span>
<span>    rec_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"LBTESTCD"</span>, <span class="st">"LBGRPID"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_vars_label</span><span class="op">(</span>data_dict <span class="op">=</span> <span class="va">lb_data_dic</span>, .strict <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sec-gf">Genomics Findings (GF)<a class="anchor" aria-label="anchor" href="#sec-gf"></a>
</h3>
<p><a href="../reference/GF.html"><code>GF</code></a> dataset contains
data related to genomic material of interest. The <a href="../reference/GF.html"><code>GF</code></a> dataset will contains
subjects’ APOE genotype that collected once during the study period.</p>
<p><em>NOTE: </em> There might be some instance with duplicated APOE
genotype records per subject.</p>
<details><summary>
Show <code>GF</code> Variables
</summary><div class="datatables html-widget html-fill-item" id="htmlwidget-72cbf064100ce560a04c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-72cbf064100ce560a04c">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14"],["STUDYID","DOMAIN","USUBJID","GFSEQ","GFGRPID","GFTESTCD","GFTEST","GFSTDTL","GFORRES","GFSTRESC","VISITNUM","VISIT","GFDTC","GFDY"],["Study Identifier","Domain Abbrevation","Unique Subject Identifier","Sequence Number","Group ID","Short Name of Genomic Measurement","Name of Genomic Measurement","Measurement, Test, or Examination Detail","Result or Finding in Original Units","Character Result/Finding in Std Format","Visit Number","Visit Name","Date/Time of Specimen Collection","Study Day of Specimen Collection"],[""," "," "," ","Study Protocol of Data Collection"," "," "," "," "," "," "," "," "," "]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>FLDNAME<\/th>\n      <th>LABEL<\/th>\n      <th>TEXT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"FLDNAME","targets":1},{"name":"LABEL","targets":2},{"name":"TEXT","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script></details><div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">GF</span> <span class="op">&lt;-</span> <span class="va">APOERES</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"APOERES"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    GFTESTCD <span class="op">=</span> <span class="st">"APOE"</span>,</span>
<span>    GFTEST <span class="op">=</span> <span class="st">"Apolipoprotein E"</span>,</span>
<span>    GFGRPID <span class="op">=</span> <span class="va">COLPROT</span>,</span>
<span>    GFSTDTL <span class="op">=</span> <span class="st">"GENOTYPE"</span>,</span>
<span>    GFORRES <span class="op">=</span> <span class="va">GENOTYPE</span>,</span>
<span>    GFSTRESC <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html" class="external-link">str_replace_all</a></span><span class="op">(</span><span class="va">GENOTYPE</span>, <span class="st">"(\\d+)"</span>, <span class="st">"ε\\1"</span><span class="op">)</span>,</span>
<span>    GFDTC <span class="op">=</span> <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/create_iso8601.html" class="external-link">create_iso8601</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">APTESTDT</span><span class="op">)</span>, .format <span class="op">=</span> <span class="st">"y-m-d"</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_usubjid</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_studyid_domain</span><span class="op">(</span>domain <span class="op">=</span> <span class="st">"GF"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_visit_attr</span><span class="op">(</span>check_missing_visnum <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_study_day_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"GF"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/derive_seq.html" class="external-link">derive_seq</a></span><span class="op">(</span></span>
<span>    tgt_var <span class="op">=</span> <span class="st">"GFSEQ"</span>,</span>
<span>    rec_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"GFTESTCD"</span>, <span class="st">"GFGRPID"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_vars_label</span><span class="op">(</span>data_dict <span class="op">=</span> <span class="va">gf_data_dic</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sec-vs">Vital Sign (VS)<a class="anchor" aria-label="anchor" href="#sec-vs"></a>
</h3>
<p><a href="../reference/VS.html"><code>VS</code></a> dataset contains
measurement finding of blood pressure, heart beat, respiratory rate,
temperature, weight and height per visit per subject.</p>
<details><summary>
Show <code>VS</code> Variables
</summary><div class="datatables html-widget html-fill-item" id="htmlwidget-d11fc4360aa0230696d7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d11fc4360aa0230696d7">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],["STUDYID","DOMAIN","USUBJID","VSSEQ","VSGRPID","VSTESTCD","VSTEST","VSORRES","VSORRESU","VSSTRESC","VSSTRESN","VSSTRESU","VSLOC","VSBLFL","VSDRVFL","VISITNUM","VISIT","EPOCH","VSDTC","VSDY"],["Study Identifier","Domain Abbrevation","Unique Subject Identifier","Sequence Number","Group ID","Vital Signs Test Short Name","Vital Signs Test Name","Result or Finding in Original Units","Original Units","Character Result/Finding in Std Format","Numeric Result/Finding in Standard Units","Standard Units","Location of Vital Signs Measurment","Baseline Flag","Derived Flag","Visit Number","Visit Name","Epoch","Date/Time of Measurements","Study Day of Vital Signs"],[""," "," "," ","Study Protocol of Data Collection"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>FLDNAME<\/th>\n      <th>LABEL<\/th>\n      <th>TEXT<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":true,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"FLDNAME","targets":1},{"name":"LABEL","targets":2},{"name":"TEXT","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script></details><div class="datatables html-widget html-fill-item" id="htmlwidget-21c7483268bafca56cec" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-21c7483268bafca56cec">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7"],["VITALS","VITALS","VITALS","VITALS","VITALS","VITALS","VITALS"],["DIABP","HEIGHT","PLUSE","RESP","SYSBP","TEMP","WEIGHT"],["Diastolic Blood Pressure","Height","Pluse Rate","Respiratory Rate","Diastolic Blood Pressure","Temperature","Weight"],["mmHg","Centimeter (cm) or Inches (inch)","beats/min","breaths/min","mmHg","Fahrenheit (F) or Celsius (C)","Pound (LB) or Kilogram (kg)"],["mmHg","m","beats/min","breaths/min","mmHg","C","kg"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SOURCE<\/th>\n      <th>VSTESTCD<\/th>\n      <th>VSTEST<\/th>\n      <th>VSORRESU<\/th>\n      <th>VSSTRESU<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":false,"searchable":true,"bInfo":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"SOURCE","targets":1},{"name":"VSTESTCD","targets":2},{"name":"VSTEST","targets":3},{"name":"VSORRESU","targets":4},{"name":"VSSTRESU","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Wide format</span></span>
<span><span class="va">VS</span> <span class="op">&lt;-</span> <span class="va">VITALS</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>VSDTC <span class="op">=</span> <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/create_iso8601.html" class="external-link">create_iso8601</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">VISDATE</span><span class="op">)</span>, .format <span class="op">=</span> <span class="st">"y-m-d"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    <span class="va">ORIGPROT</span>, <span class="va">COLPROT</span>, <span class="va">RID</span>, <span class="va">VISCODE</span>, <span class="va">VSDTC</span>,</span>
<span>    <span class="va">VSWEIGHT</span>, <span class="va">VSWTUNIT</span>, <span class="va">VSHEIGHT</span>, <span class="va">VSHTUNIT</span>, <span class="va">VSBPSYS</span>, <span class="va">VSBPDIA</span>, <span class="va">VSPULSE</span>,</span>
<span>    <span class="va">VSRESP</span>, <span class="va">VSTEMP</span>, <span class="va">VSTMPSRC</span>, <span class="va">VSTMPUNT</span>, <span class="va">VSHGTSC</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">generate_oak_id_vars_adni</span><span class="op">(</span>raw_src <span class="op">=</span> <span class="st">"VITALS"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">VSWEIGHT</span>, <span class="va">VSHEIGHT</span>, <span class="va">VSTEMP</span><span class="op">)</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">.x</span> <span class="op">==</span> <span class="op">-</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="va">.x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">VSWTUNIT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"kilograms"</span>, <span class="st">"pounds"</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">VSWTUNIT</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">VSHTUNIT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"centimeters"</span>, <span class="st">"inches"</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">VSHTUNIT</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/verify.html" class="external-link">verify</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">VSTMPUNT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fahrenheit"</span>, <span class="st">"Celsius"</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">VSTMPUNT</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    VSWTUNIT_TRANSLATED <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">VSWTUNIT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"kilograms"</span> <span class="op">~</span> <span class="st">"kg"</span>,</span>
<span>      <span class="va">VSWTUNIT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"pounds"</span> <span class="op">~</span> <span class="st">"LB"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    VSHTUNIT_TRANSLATED <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">VSHTUNIT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"centimeters"</span> <span class="op">~</span> <span class="st">"cm"</span>,</span>
<span>      <span class="va">VSHTUNIT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"inches"</span> <span class="op">~</span> <span class="st">"inch"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    VSTMPUNT_TRANSLATED <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">VSTMPUNT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"Fahrenheit"</span> <span class="op">~</span> <span class="st">"F"</span>,</span>
<span>      <span class="va">VSTMPUNT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"Celsius"</span> <span class="op">~</span> <span class="st">"C"</span></span>
<span>    <span class="op">)</span>,</span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unite.html" class="external-link">unite</a></span><span class="op">(</span><span class="st">"WEIGHT"</span>, <span class="va">VSWEIGHT</span>, <span class="va">VSWTUNIT_TRANSLATED</span>, sep <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unite.html" class="external-link">unite</a></span><span class="op">(</span><span class="st">"HEIGHT"</span>, <span class="va">VSHEIGHT</span>, <span class="va">VSHTUNIT_TRANSLATED</span>, sep <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unite.html" class="external-link">unite</a></span><span class="op">(</span><span class="st">"TEMP"</span>, <span class="va">VSTEMP</span>, <span class="va">VSTMPUNT_TRANSLATED</span>, <span class="va">VSTMPSRC</span>, sep <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    DIABP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">VSBPDIA</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">VSBPDIA</span>, <span class="st">"-"</span>, <span class="st">"mmHg"</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    SYSBP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">VSBPSYS</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">VSBPSYS</span>, <span class="st">"-"</span>, <span class="st">"mmHg"</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    PLUSE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">VSPULSE</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">VSPULSE</span>, <span class="st">"-"</span>, <span class="st">"beats/min"</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>    RESP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">VSRESP</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">VSRESP</span>, <span class="st">"-"</span>, <span class="st">"breaths/min"</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Long format</span></span>
<span><span class="va">VS</span> <span class="op">&lt;-</span> <span class="va">VS</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">WEIGHT</span>, <span class="va">HEIGHT</span>, <span class="va">TEMP</span>, <span class="va">DIABP</span>, <span class="va">SYSBP</span>, <span class="va">PLUSE</span>, <span class="va">RESP</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"VSTESTCD"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"VALUE"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">set_dom_test</span><span class="op">(</span></span>
<span>    .data_list <span class="op">=</span> <span class="va">VS_TESTCD_LIST</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">VSTESTCD</span>, <span class="va">VSTEST</span><span class="op">)</span>,</span>
<span>    merge_by <span class="op">=</span> <span class="st">"VSTESTCD"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate.html" class="external-link">separate</a></span><span class="op">(</span><span class="va">VALUE</span>, into <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"VSORRES"</span>, <span class="st">"VSORRESU"</span>, <span class="st">"VSLOC"</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>VSLOC <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html" class="external-link">str_to_upper</a></span><span class="op">(</span><span class="va">VSLOC</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>VSSTRESU <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">VSORRESU</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"C"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"C"</span>,</span>
<span>    <span class="va">VSORRESU</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cm"</span>, <span class="st">"inch"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"cm"</span>,</span>
<span>    <span class="va">VSORRESU</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"kg"</span>, <span class="st">"LB"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"kg"</span>,</span>
<span>    <span class="va">VSORRESU</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mmHg"</span>, <span class="st">"beats/min"</span>, <span class="st">"breaths/min"</span><span class="op">)</span> <span class="op">~</span> <span class="va">VSORRESU</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Unit conversion: conv_unit</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    FROM_UNIT <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">VSORRESU</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"LB"</span> <span class="op">~</span> <span class="st">"lbs"</span>,</span>
<span>      <span class="va">VSORRESU</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"F"</span>, <span class="st">"cm"</span>, <span class="st">"inch"</span>, <span class="st">"kg"</span><span class="op">)</span> <span class="op">~</span> <span class="va">VSORRESU</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span>,</span>
<span>    TO_UNIT <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">VSSTRESU</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"kg"</span>, <span class="st">"cm"</span><span class="op">)</span> <span class="op">~</span> <span class="va">VSSTRESU</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rowwise.html" class="external-link">rowwise</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    VSSTRESN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span></span>
<span>      <span class="va">VSTESTCD</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WEIGHT"</span>, <span class="st">"HEIGHT"</span>, <span class="st">"TEMP"</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">FROM_UNIT</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/measurements/man/conv_unit.html" class="external-link">conv_unit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">VSORRES</span><span class="op">)</span>, from <span class="op">=</span> <span class="va">FROM_UNIT</span>, to <span class="op">=</span> <span class="va">TO_UNIT</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">VSTESTCD</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DIABP"</span>, <span class="st">"SYSBP"</span>, <span class="st">"PLUSE"</span>, <span class="st">"RESP"</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">VSORRES</span><span class="op">)</span>, <span class="cn">NA_real_</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    VSGRPID <span class="op">=</span> <span class="va">COLPROT</span>,</span>
<span>    VSSTRESN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">VSSTRESN</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>    VSSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">VSSTRESN</span><span class="op">)</span>,</span>
<span>    VSDRVFL <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">FROM_UNIT</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">FROM_UNIT</span> <span class="op">!=</span> <span class="va">TO_UNIT</span> <span class="op">~</span> <span class="st">"Yes"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/assert_non_missing.html">assert_non_missing</a></span><span class="op">(</span><span class="va">COLPROT</span>, <span class="va">VISCODE</span>, <span class="va">VSTEST</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">VS</span> <span class="op">&lt;-</span> <span class="va">VS</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_usubjid</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_studyid_domain</span><span class="op">(</span>domain <span class="op">=</span> <span class="st">"VS"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_visit_attr</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_epoch</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_blfl_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    tgt_var <span class="op">=</span> <span class="st">"VSBLFL"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">derive_study_day_adni</span><span class="op">(</span></span>
<span>    dm_domain <span class="op">=</span> <span class="va">DM</span>,</span>
<span>    domain <span class="op">=</span> <span class="st">"VS"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://pharmaverse.github.io/sdtm.oak/reference/derive_seq.html" class="external-link">derive_seq</a></span><span class="op">(</span></span>
<span>    tgt_var <span class="op">=</span> <span class="st">"VSSEQ"</span>,</span>
<span>    rec_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"VSTESTCD"</span>, <span class="st">"VSGRPID"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">assign_vars_label</span><span class="op">(</span>data_dict <span class="op">=</span> <span class="va">vs_data_dic</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by ATRI Biostatistics.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
